<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Tag: linux | glmapper</title>

  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <meta name="description" content="从平凡的世界中全身而退">
<meta property="og:type" content="website">
<meta property="og:title" content="glmapper">
<meta property="og:url" content="http://www.glmapper.com/tags/linux/index.html">
<meta property="og:site_name" content="glmapper">
<meta property="og:description" content="从平凡的世界中全身而退">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="glmapper">
<meta name="twitter:description" content="从平凡的世界中全身而退">
  
    <link rel="alternative" href="/atom.xml" title="glmapper" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
    
  <meta content="{{ title }}" name="description">
  <meta content="{{ title }}" name="keywords">
  <meta content="{{ title }}" name="author">

  <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|PT+Sans+Narrow|Source+Sans+Pro:200,300,400,600,700,900&amp;subset=all" rel="stylesheet" type="text/css">

  <!-- Global styles START -->   
  <link rel="stylesheet" href="/metronic/assets/plugins/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/metronic/assets/plugins/bootstrap/css/bootstrap.min.css">
  <!-- Global styles END --> 
   
  <!-- Page level plugin styles START -->
  <link rel="stylesheet" href="/metronic/assets/pages/css/animate.css">
  <link rel="stylesheet" href="/metronic/assets/plugins/owl.carousel/assets/owl.carousel.css">
  <!-- Page level plugin styles END -->

  <!-- Theme styles START -->
  <link rel="stylesheet" href="/metronic/assets/pages/css/components.css">
  <link rel="stylesheet" href="/metronic/assets/pages/css/slider.css">
  <link rel="stylesheet" href="/metronic/assets/corporate/css/style.css">
  <link rel="stylesheet" href="/metronic/assets/pages/css/portfolio.css">
  <link rel="stylesheet" href="/metronic/assets/corporate/css/style-responsive.css">
  <link rel="stylesheet" href="/metronic/assets/corporate/css/themes/red.css">
  <link rel="stylesheet" href="/css/theme-styles.css">
  <!-- Theme styles END -->
</head>
</html>
<body class="corporate">
  <!-- BEGIN TOP BAR -->
<div class="pre-header">
  <div class="container">
    <div class="row">
      <!-- BEGIN TOP BAR LEFT PART -->
      <div class="col-md-6 col-sm-6 col-xs-9 additional-shop-info">
	<ul class="list-unstyled list-inline">
	  <li><i class="fa fa-phone"></i><span>716-472-4484</span></li>
	  <li><i class="fa fa-envelope-o"></i><span>ptsteadman@gmail.com</span></li>
	</ul>
      </div>
      <!-- END TOP BAR LEFT PART -->
      <!-- BEGIN TOP BAR MENU -->
      <div class="col-md-6 col-sm-6 col-xs-3 additional-nav">
	<ul class="list-unstyled list-inline pull-right">
	  <li><a href="/login">Log In</a></li>
	</ul>
      </div>
      <!-- END TOP BAR MENU -->
    </div>
  </div>        
</div>
<!-- END TOP BAR -->
<!-- BEGIN HEADER -->
<div class="header">
  <div class="container">
    <!--<a class="site-logo" href="/" id="logo">glmapper</a>-->

    <a class="site-logo" href="/">
      <img src="/metronic/assets/corporate/img/logos/logo-corp-red.png" alt="Metronic FrontEnd">
    </a>

    <a href="javascript:void(0);" class="mobi-toggler"><i class="fa fa-bars"></i></a>

    <!-- BEGIN NAVIGATION -->
    <div class="header-navigation pull-right font-transform-inherit">
      <ul>
	
	<li class="">
	  <a href="/">Home</a>
	</li>
	
	<li class="">
	  <a href="/projects/">Projects</a>
	</li>
	
	<li class="">
	  <a href="/archives/">Blog</a>
	</li>
	
	<li class="">
	  <a href="/contact/">Contact</a>
	</li>
	
	<li class="">
	  <a href="/about/">About</a>
	</li>
	
	<!-- BEGIN TOP SEARCH -->
	<li class="menu-search">
	  <span class="sep"></span>
	  <i class="fa fa-search search-btn"></i>
	  <div class="search-box">
	    <form action="#">
	      <div class="input-group">
		<input type="text" placeholder="Search" class="form-control st-default-search-input">
		<span class="input-group-btn">
		  <button class="btn btn-primary" type="submit">Search</button>
		</span>
	      </div>
	    </form>
	  </div> 
	</li>
	<!-- END TOP SEARCH -->
      </ul>
    </div>
    <!-- END NAVIGATION -->
  </div>
</div>
<!-- Header END -->

  <div class="container">
  <ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li><a href="/blog">Blog</a></li>
    <li class="active">Tagged: linux</li>
  </ul>
<section id="main">
  <h1>Tagged: linux</h1>
  <div class="row">

<div class="col-xs-12 blog-posts">


  <section class="archives-wrap">
    <div class="archives">
      
	<div class="row">
  <div class="col-md-4 col-sm-4">
    
  </div>
  
    <div class="col-xs-12">
  
    
    <h2 itemprop="name">
      <a class="archive-article-title" href="/2020/10/26/linux/linux-yum/">yum 指令</a>
    </h2>


    <ul class="blog-info">
      <li>
      	<i class="fa fa-calendar"></i> 
        <time datetime="2020-10-26T01:57:28.000Z" itemprop="datePublished">2020/10/26</time>

      </li>
      <li><i class="fa fa-comments"></i>
        <a href="http://www.glmapper.com/2020/10/26/linux/linux-yum/#disqus_thread" class="article-comment-link">Comments</a>
      </li>
      <li>
	<i class="fa fa-tags"></i>
	
  
    <a href="/tags/linux/" title="linux">linux</a>,
  
    <a href="/tags/yum/" title="yum">yum</a>
  


      </li>
    </ul>
    <div class="blog-item">
      
	<blockquote>
<p><a href="http://yum.baseurl.org/" target="_blank" rel="noopener">yum(Yellowdog Updater Modified)</a>：是一个基于 RPM 的软件包管理器，能够从指定服务器自动下载RPM包并且安装，可以处理软件之间的依赖关系，一次性安装所有依赖的软件包，无需一个个下载安装。</p>
</blockquote>
<h2 id="工作原理示意图"><a href="#工作原理示意图" class="headerlink" title="工作原理示意图"></a>工作原理示意图</h2><p><code>yum</code> 客户端及服务器的工作原理如下图所示</p>
<p><img src="https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/linux/yum.jpg" alt=""></p>
<h2 id="yum-的配置文件"><a href="#yum-的配置文件" class="headerlink" title="yum 的配置文件"></a>yum 的配置文件</h2><p>配置文件所在目录：<code>/etc/yum.repos.d</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># vim /etc/yum.repos.d/alios.repo</span><br><span class="line">----------------------------------------</span><br><span class="line">[alios.7u2.base.$basearch]</span><br><span class="line">name=alios</span><br><span class="line">baseurl=http://yum.tbsite.net/alios/7u2/os/$basearch/  # $basearch：系统基础架构，如 x86_64</span><br><span class="line">gpgcheck=0</span><br><span class="line">----------------------------------------</span><br></pre></td></tr></table></figure></p>
<p><code>x.repo</code> 文件相关配置 <code>key</code> 简介：</p>
<blockquote>
<ul>
<li>1、[alios.7u2.base.$basearch]: 仓库的ID，可以取任意名字，只要不和其他的ID冲突即可</li>
<li>2、name=xxx: 用于描述容器含义</li>
<li>3、enabled={1|0}: 是否启用这个仓库，0表示不启用，1表示启用，默认是启用的</li>
<li>4、mirrorlist: 列出这个容器可以使用的镜像站点（如果不想使用，可以注释，本案例中没有体现）</li>
<li>5、baseurl=url: 容器地址，mirrorlist 是由 yum 程序自行找镜像站点，baseurl 则是指定一个固定容器地址</li>
<li>6、gpgcheck={1|0}: 是否进行签名合法性检测，0 表示不启用，1表示启用，如果选择启用 gpg 检查，则需要告知其 key 是什么</li>
<li>7、gpgkey=url: 如果启用 gpg 检测，则需要指定 gpgkey 的路径，即使导入过 gpgkey，这里仍然需要手动为其指定路径，这个路径可以是远程服务器上的，也可以是本地的，只要让本地客户端访问到即可</li>
</ul>
</blockquote>
<p>如果两个仓库里的 RPM 包是一样的，一个在远程服务器上，另一个在本地光盘上，那么本地光盘的访问速度通常会快于远程服务器上。在配置文件中，我们可以定义这样的两个仓库，为其中一个设定优先级</p>
<blockquote>
<p>注: gpgme.GpgmeError: (7, 32870, u’\ufffd\ufffd\ufffd\u8c78\ufffd\ufffd\ufffd\u02b5\ufffd\ufffd\ufffd ioctl \ufffd\ufffd\ufffd\ufffd’)   #如果执行报这个错，表示当前系统字符编码不支持 Unicode，改一下就好**</p>
</blockquote>
<h2 id="配置-yum-数据源"><a href="#配置-yum-数据源" class="headerlink" title="配置 yum 数据源"></a>配置 yum 数据源</h2><p>默认情况下 <code>yum</code> 使用的源都是国外的地址，那我们如果期望下载速度更快一些时，就可以考虑使用国内的一些源，比如 <code>aliyun</code> 提供的, 以配置 <code>docker</code> <code>yum</code> 数据源为例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">已加载插件：bestyumcache, fastestmirror, langpacks</span><br><span class="line">adding repo from: http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">grabbing file http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">repo saved to /etc/yum.repos.d/docker-ce.repo</span><br></pre></td></tr></table></figure>
<p>然后就可以在 <code>/etc/yum.repos.d/</code> 下看到 <code>docker-ce.repo</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$ sudo cat docker-ce.repo</span><br><span class="line">[docker-ce-stable]</span><br><span class="line">name=Docker CE Stable - $basearch</span><br><span class="line">baseurl=https://mirrors.aliyun.com/docker-ce/linux/centos/7/$basearch/stable</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span><br><span class="line"></span><br><span class="line">[docker-ce-stable-debuginfo]</span><br><span class="line">name=Docker CE Stable - Debuginfo $basearch</span><br><span class="line">baseurl=https://mirrors.aliyun.com/docker-ce/linux/centos/7/debug-$basearch/stable</span><br><span class="line">enabled=0</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span><br><span class="line"></span><br><span class="line">[docker-ce-stable-source]</span><br><span class="line">name=Docker CE Stable - Sources</span><br><span class="line">baseurl=https://mirrors.aliyun.com/docker-ce/linux/centos/7/source/stable</span><br><span class="line">enabled=0</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span><br><span class="line"></span><br><span class="line"># ...省略其他</span><br></pre></td></tr></table></figure>
<h2 id="yum-的一些基本功能"><a href="#yum-的一些基本功能" class="headerlink" title="yum 的一些基本功能"></a>yum 的一些基本功能</h2><p>yum 基本功能主要包括：查询、删除、更新/升级以及软件组等</p>
<h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p>yum 查询有以下几种姿势，这里挨个举例。</p>
<h4 id="yum-search-xxx"><a href="#yum-search-xxx" class="headerlink" title="yum search xxx"></a>yum search xxx</h4><p>搜索某个软件名称或者描述的重要关键字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ yum search java</span><br><span class="line">已加载插件：bestyumcache, branch, fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">kubernetes                                                                                                                                                                  579/579</span><br><span class="line">================================================================================ N/S matched: java =================================================================================</span><br><span class="line">abrt-java-connector.x86_64 : JNI Agent library converting Java exceptions to ABRT problems</span><br><span class="line">aether-javadoc.noarch : Java API documentation for Aether</span><br><span class="line">alicpp-gcc492-netlib-java.x86_64 : alicpp-gcc492-netlib-java-1.1.2.odps</span><br><span class="line">ant-antunit-javadoc.noarch : Javadoc for ant-antunit</span><br><span class="line">ant-contrib-javadoc.noarch : Javadoc for ant-contrib</span><br><span class="line">ant-javadoc.noarch : Javadoc for ant</span><br></pre></td></tr></table></figure>
<h4 id="yum-info-xxx"><a href="#yum-info-xxx" class="headerlink" title="yum info xxx"></a>yum info xxx</h4><p>列出软件功能（不太方便透露的信息，以 xxxx 代替了）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ yum info docker</span><br><span class="line">已加载插件：bestyumcache, branch, fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">可安装的软件包</span><br><span class="line">名称    ：docker</span><br><span class="line">架构    ：x86_64</span><br><span class="line">版本    ：xxxx</span><br><span class="line">发布    ：xxxx  </span><br><span class="line">大小    ：103 M</span><br><span class="line">源      ：xxxx</span><br><span class="line">简介    ：xxxx</span><br><span class="line">网址    ：xxxx</span><br><span class="line">协议    ： Commercial</span><br><span class="line">描述    ： CodeUrl:git@xxxx</span><br><span class="line">         : CodeRev:e3xx79d</span><br><span class="line">         : AoneLog: xxxx</span><br><span class="line">         : AoneUrl:xxxx</span><br><span class="line">         : xxx container service docker-xxx; branch: vxxx</span><br></pre></td></tr></table></figure>
<h4 id="yum-list"><a href="#yum-list" class="headerlink" title="yum list"></a>yum list</h4><p>列出 yum 服务器上面所有的软件名称，这里就不列了（下面一个是按规则搜的）</p>
<h4 id="yum-list-xxxx"><a href="#yum-list-xxxx" class="headerlink" title="yum list xxxx*"></a>yum list xxxx*</h4><p>找出以 xxx 开头的软件名称</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ yum list docker</span><br><span class="line">已加载插件：bestyumcache, branch, fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">可安装的软件包</span><br><span class="line">docker.x86_64    version-xxx   xxxx</span><br></pre></td></tr></table></figure>
<h4 id="yum-list-updates"><a href="#yum-list-updates" class="headerlink" title="yum list updates"></a>yum list updates</h4><p>列出 yum 服务器上可提供本机进行升级的软件（返回的信息是 yum list 的子集，这里也不举例了）</p>
<h3 id="安装-or-升级"><a href="#安装-or-升级" class="headerlink" title="安装 or 升级"></a>安装 or 升级</h3><ul>
<li>yum install/update 软件名称 </li>
<li>yum install 软件名称 -y         #安装过程中免输入y确认</li>
</ul>
<h3 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h3><ul>
<li>yum remove 软件名称</li>
</ul>
<h3 id="软件组"><a href="#软件组" class="headerlink" title="软件组"></a>软件组</h3><ul>
<li>yum grouplist                         //查看容器和本机上可用与安装过的软件组</li>
<li>yum groupinfo group_name             //查看group内所有组名称</li>
<li>yum install/remove group_name        //安装与删除</li>
</ul>
<p>除此之外，如果我们想升级所有的软件包，可以通过如下方式搞定</p>
<ul>
<li>yum -y update  升级所有包，改变软件设置和系统设置,系统版本内核都升级</li>
<li>yum -y upgrade 升级所有包，不改变软件设置和系统设置，系统版本升级，内核不改变</li>
</ul>
<blockquote>
<p>已经上线的用yum -y upgrade 比较稳，全新的用yum -y update 会更好</p>
</blockquote>
<p>editing….</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="http://yum.baseurl.org/" target="_blank" rel="noopener">http://yum.baseurl.org/</a></li>
<li><a href="https://blog.csdn.net/guohaosun/article/details/81481848" target="_blank" rel="noopener">https://blog.csdn.net/guohaosun/article/details/81481848</a></li>
<li><a href="https://blog.51cto.com/wuyelan/1546674" target="_blank" rel="noopener">https://blog.51cto.com/wuyelan/1546674</a></li>
</ul>

      
    </div>
    <br>
    <br>
    <a href="http://www.glmapper.com/2020/10/26/linux/linux-yum/" class="more">Read more <i class="icon-angle-right"></i></a>
  </div>
</div>
<hr class="blog-post-sep">

      
	<div class="row">
  <div class="col-md-4 col-sm-4">
    
  </div>
  
    <div class="col-xs-12">
  
    
    <h2 itemprop="name">
      <a class="archive-article-title" href="/2020/08/10/linux/base-operations-top-command/">Linux Top 命令指南</a>
    </h2>


    <ul class="blog-info">
      <li>
      	<i class="fa fa-calendar"></i> 
        <time datetime="2020-08-10T08:55:06.000Z" itemprop="datePublished">2020/08/10</time>

      </li>
      <li><i class="fa fa-comments"></i>
        <a href="http://www.glmapper.com/2020/08/10/linux/base-operations-top-command/#disqus_thread" class="article-comment-link">Comments</a>
      </li>
      <li>
	<i class="fa fa-tags"></i>
	
  
    <a href="/tags/linux/" title="linux">linux</a>,
  
    <a href="/tags/top/" title="top">top</a>
  


      </li>
    </ul>
    <div class="blog-item">
      
	<p><code>top</code> 命令允许用户监视 Linux 上的进程和系统资源使用情况，它是系统管理员工具箱中最有用的工具之一，并且在每个发行版中都预装了它。与 <code>ps</code> 等其他命令不同，它是交互式的，我们可以浏览进程列表、终止进程，等等。本文中，我们将了解如何使用 <code>top</code> 命令。</p>
<h2 id="Getting-started"><a href="#Getting-started" class="headerlink" title="Getting started"></a>Getting started</h2><p><code>top</code> 命令非常简单，只需要在终端中输入 <code>top</code> 即可。<code>top</code> 指令将启动一个交互式命令行应用程序，如下所示，输出的上半部分包含有关进程和资源使用情况的统计信息，下半部分包含当前运行的进程的列表。可以使用箭头键和页面向上/向下键浏览列表。如果你想退出，只需按<code>q</code>键。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ top</span><br><span class="line">top - 21:07:28 up 21 days,  4:31,  1 user,  load average: 0.12, 0.06, 0.07</span><br><span class="line">Tasks:  33 total,   1 running,  31 sleeping,   0 stopped,   1 zombie</span><br><span class="line">%Cpu(s):  0.2 us,  0.5 sy,  0.0 ni, 89.7 id,  0.0 wa,  0.0 hi,  0.0 si,  9.6 st</span><br><span class="line">KiB Mem : 33554432 total, 31188884 free,   513100 used,  1852448 buff/cache</span><br><span class="line">KiB Swap:  2097148 total,  2097148 free,        0 used. 31188884 avail Mem</span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br><span class="line"> 52601 root      39  19 1310268  14900   9836 S   0.3  0.0  22:59.21 logagent-collec</span><br><span class="line">     1 root      20   0   45416   5244   3968 S   0.0  0.0   5:35.71 systemd</span><br><span class="line">   340 root      20   0   64700  21336  17684 S   0.0  0.1   8:33.90 systemd-journal</span><br><span class="line">   357 root      20   0  101836   2768   2312 S   0.0  0.0   0:01.13 gssproxy</span><br><span class="line">   384 dbus      20   0   28632   2800   2464 S   0.0  0.0   0:00.04 dbus-daemon</span><br><span class="line">   432 root      20   0   84760   5852   4984 S   0.0  0.0   0:00.01 sshd</span><br><span class="line">   461 agent     20   0   52376   5200   3684 S   0.0  0.0   0:00.01 ilogtail</span><br><span class="line">  1690 agent     20   0 2193388 246304  11264 S   0.0  0.7  23:45.88 java</span><br><span class="line">  2527 admin     20   0  161744   4268   3704 R   0.0  0.0   0:00.72 top</span><br><span class="line">  3245 root      20   0  559140  12412   5860 S   0.0  0.0  64:48.67 logagent</span><br><span class="line">  3420 root      20   0  745052  58464  43820 S   0.0  0.2  11:16.32 metricbeat</span><br><span class="line">  3447 root      20   0  957796  55548  43708 S   0.0  0.2  10:14.47 metricbeat</span><br><span class="line">  5093 root      20   0 1905356 159280   9584 S   0.0  0.5  35:00.14 java</span><br><span class="line">  7458 root      20   0   13700   2564   2356 S   0.0  0.0   0:00.00 bash</span><br><span class="line">  7464 root      20   0   86268   4436   3740 S   0.0  0.0   0:00.00 sudo</span><br><span class="line">  # ... 省略其他</span><br></pre></td></tr></table></figure></p>
<p><code>top</code> 有许多变体，但在本文的其余部分中，我们将讨论最常见的变体 — <code>props -ng</code>包附带的变体，下面来运行验证体验下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ top -v</span><br><span class="line">  procps-ng version 3.3.10</span><br><span class="line">Usage:</span><br><span class="line">  top -hv | -bcHiOSs -d secs -n max -u|U user -p pid(s) -o field -w [cols]</span><br></pre></td></tr></table></figure>
<p>在 <code>top</code> 的界面中发生了相当多的事情，我们将在下一节中对其逐一进行分析。</p>
<h2 id="了解-top-的界面-the-summary-area"><a href="#了解-top-的界面-the-summary-area" class="headerlink" title="了解 top 的界面 - the summary area"></a>了解 top 的界面 - the summary area</h2><p>第一小节中 <code>top</code> 的输出界面，我们可以比较明显的看到被分成了两个部分，这个小节中我们将关注在上半部分信息，这部分一般被称之为：<code>summary area</code></p>
<h3 id="系统时间、正常运行时间和用户会话"><a href="#系统时间、正常运行时间和用户会话" class="headerlink" title="系统时间、正常运行时间和用户会话"></a>系统时间、正常运行时间和用户会话</h3><ul>
<li>系统时间：当前系统的时间(<code>21:07:28</code>)</li>
<li>正常运行：系统运行时长(<code>21 days,  4:31</code>)</li>
<li>活动用户会话个数：1 个</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top - 21:07:28 up 21 days,  4:31,  1 user,</span><br></pre></td></tr></table></figure>
<p>活动用户会话包括 <a href="https://en.wikipedia.org/wiki/Computer_terminal#Text_terminals" target="_blank" rel="noopener">TTY</a> 和 <a href="https://en.wikipedia.org/wiki/Pseudoterminal" target="_blank" rel="noopener">PTY</a> 两种。实际上，如果您通过桌面环境登录到 <code>Linux</code> 系统，然后启动终端模拟器，您将发现将有两个活动会话。</p>
<blockquote>
<p>TTY: 通过命令行或桌面环境在系统上物理地运行<br>PTY: 终端模拟器窗口或通过 SSH</p>
</blockquote>
<p>如果我们期望得到更多关于活动用户会话的信息，可以通过 <code>who</code> 命令来得到，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ who</span><br><span class="line">admin    pts/0        2020-10-31 17:15 (xx.xx.xx.xx)</span><br></pre></td></tr></table></figure>
<h3 id="内存使用情况"><a href="#内存使用情况" class="headerlink" title="内存使用情况"></a>内存使用情况</h3><p><code>Memory</code> 部分显示的是关于系统内存使用情况的信息，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">KiB Mem : 33554432 total, 31188208 free,   513488 used,  1852736 buff/cache</span><br><span class="line">KiB Swap:  2097148 total,  2097148 free,        0 used. 31188208 avail Mem</span><br></pre></td></tr></table></figure>
<p><code>Mem</code> 和 <code>Swap</code> 分别显示的是 <code>RAM</code> 和 <code>swap</code> 空间信息；当 <code>RAM</code> 使用率接近满时，<code>RAM</code> 中不经常使用的区域将被写入 <code>Swap</code> 空间，以便稍后需要时检索。但是，由于访问磁盘的速度很慢，过分依赖 <code>Swap</code> 可能会损害系统性能。</p>
<blockquote>
<p><strong>关于 Swap</strong></p>
<ul>
<li><p>物理内存就是计算机的实际内存大小，由<code>RAM</code>芯片组成的。虚拟内存则是虚拟出来的、使用磁盘代替内存。虚拟内存的出现，让机器内存不够的情况得到部分解决。当程序运行起来由操作系统做具体虚拟内存到物理内存的替换和加载(相应的页与段的虚拟内存管理)。这里的虚拟内存即所谓的 swap;</p>
</li>
<li><p>当用户提交程序，然后产生进程，在机器上运行。机器会判断当前物理内存是否还有空闲允许进程调入内存运行，如果有那么则直接调入内存进行运行；如果没有，那么会根据优先级选择一个进程挂起，把该进程交换到swap中等待，然后把新的进程调入到内存中运行。根据这种换入和换出，实现了内存的循环利用，让用户感觉不到内存的限制。从这也可以看出swap扮演了一个非常重要的角色，就是暂存被换出的进程。</p>
</li>
<li><p>内存与swap之间是按照内存页为单位来交换数据的，一般Linux中页的大小设置为4kb。而内存与磁盘则是按照块来交换数据的</p>
</li>
</ul>
</blockquote>
<p><code>total</code>、<code>free</code>、<code>used</code> 就是这些单词含义所描述的一样，分别是当前对应空间的总大小、空闲大小、已使用大小。<code>avail mem</code> 值指的是可以分配给进程而不会导致更多的交换的内存量。</p>
<p>Linux 内核层面上总是以不同的方式来尝试减少访问磁盘的次数；它在<code>RAM</code>中维护一个“磁盘缓存（disk cache）”，存储磁盘中经常使用的区域，另外，磁盘写被存储到一个“磁盘缓冲区（disk buffer）”，内核最终将它们写到磁盘上。它们消耗的总内存是 <code>buff/cache</code> 值。这看起来像是一件坏事，但实际上不是，原因是缓存使用的内存将在需要时分配给进程。</p>
<h3 id="任务-Tasks"><a href="#任务-Tasks" class="headerlink" title="任务-Tasks"></a>任务-Tasks</h3><p><code>Tasks</code> 部分显示的是有关系统上运行的进程的统计信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Tasks:  33 total,   1 running,  31 sleeping,   0 stopped,   1 zombie</span><br></pre></td></tr></table></figure>
<p><code>total</code> 比较好理解，它表示的就是当前系统正在运行的进程总数。但是对于其他几个状态相关的数字，我们需要了解一点 <code>Linux</code> 内核如何处理进程的背景知识。</p>
<p><strong>进程执行是 I/O 限制的工作(如读取磁盘)和 cpu 限制的工作(如执行算术操作)的混合模式。当一个进程执行 I/O 时，CPU 是空闲的，所以 os 在这段时间切换到执行其他进程。此外，该操作系统允许一个给定的进程执行非常短的时间，然后它切换到另一个进程。这就是操作系统“多任务处理”的表现。做所有这些需要我们跟踪流程的“状态”。在 Linux 中，进程可能处于以下状态:</strong></p>
<blockquote>
<ul>
<li>1、Runnable (R): 处于这种状态的进程要么在 CPU 上执行，要么存在于运行队列中，准备执行。</li>
<li>2、Interruptible sleep(S): 处于这种状态的进程在等待事件完成。</li>
<li>3、Uninterruptible sleep (D): 在这种情况下，一个进程正在等待一个 I/O 操作完成。</li>
<li>4、Stopped (T): 这些进程已经被一个作业控制信号(如按 Ctrl+Z)停止，或者因为它们正在被跟踪。</li>
<li>5、Zombie (Z): 僵尸进程</li>
</ul>
</blockquote>
<p>一个进程可以创建许多子进程，当父进程仍然存在时，这些子进程是可以退出的，但是，这些数据结构必须保留下来，直到父进程获得子进程的状态。这种数据结构仍然存在的终止进程称为僵尸进程。D 和 S 状态都是在 <code>top</code> 信息中体现为 <code>sleeping</code>，T 状态体现为 <code>stopped</code>，<code>Z</code> 状态体现为 <code>zombie</code>。</p>
<h3 id="CPU-使用情况"><a href="#CPU-使用情况" class="headerlink" title="CPU 使用情况"></a>CPU 使用情况</h3><p>CPU 使用情况，显示了在各种任务上花费的 CPU 时间的百分比。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%Cpu(s):  0.3 us,  0.4 sy,  0.0 ni, 90.3 id,  0.0 wa,  0.0 hi,  0.0 si,  9.0 st</span><br></pre></td></tr></table></figure>
<p><code>us</code>指的是 CPU 在用户空间中执行进程所花费的时间。类似地，<code>sy</code>指的就是运行内核空间进程所花费的时间。Linux 中使用 <code>nice</code> 值来表示进程的优先级，值越高，优先级越低，后面我们会了解到，默认的 <code>nice</code> 值是可以被修改的。在手动设置 <code>nice</code> 的情况下，执行进程所花费的时间显示为 <code>ni</code> 值。<code>ni</code> 后面是 <code>id</code>，它是CPU 保持空闲的时间，大多数操作系统在 CPU 空闲时将其设置为“省电模式”。接下来是 <code>wa</code>值，它是 CPU 等待 I/O 完成所花费的时间。</p>
<p>中断(Interrupt)是向处理器发出的有关需要立即关注的事件的信号；外设通常使用硬件中断来告知系统有关事件的信息，例如键盘上的按键。另一方面，软件中断是由于处理器上执行的特定指令而产生的。在这两种情况下，操作系统都将处理它们，处理硬件中断和软件中断所花费的时间分别由<code>hi</code>和<code>si</code>给出。</p>
<p>在虚拟化环境中，会将一部分 CPU 资源分配给每个虚拟机（VM）。操作系统会检测到何时有工作要做，如果检测到他需要执行但是由于 CPU 在其他 VM 上繁忙而无法执行时，以这种方式浪费的时间就是“窃取”时间，显示为<code>st</code>。</p>
<h3 id="平均负载-Load-average"><a href="#平均负载-Load-average" class="headerlink" title="平均负载-Load average"></a>平均负载-Load average</h3><p><code>load average</code> 部分表示的是在最近 1、5 和 15 分钟内的系统平均“负载”。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">load average: 0.11, 0.07, 0.07</span><br></pre></td></tr></table></figure>
<p><strong>负载</strong>是对系统执行的计算工作量的度量。在Linux上，负载是在任何给定时刻处于 <code>R</code> 和 <code>D</code> 状态的进程数。<strong>load average</strong>值为您提供了必须等待多长时间才能完成任务的相对度量。这里有几个小例子，我们来直观的理解下这两个概念。</p>
<ul>
<li>1、在单核心系统上，<code>load average</code> 为 0.4 意味着系统只完成了它能完成的 40% 的工作。<code>load average</code>为 1 意味着系统正好处于满负荷状态——即使添加一点点额外的工作，系统也会过载。一个 <code>load average</code> 为 2.12 的系统意味着它超载了 112% 的工作，超出了它的处理能力。</li>
<li>2、在多核系统上，应该首先用 <code>load average</code> 除以 CPU 核数，以得到类似的度量。</li>
</ul>
<p>此外，<code>load average</code> 实际上并不是我们大多数人所知道的典型的<strong>平均负载</strong>。它是一个“指数移动平均”，这意味着以前的 <code>load average</code> 的一小部分被考虑到当前的值（关于这个点，可以通过<a href="https://www.linuxjournal.com/article/9001" target="_blank" rel="noopener">这篇文章</a>来了解更多技术细节）。</p>
<h2 id="了解-top-的界面-the-task-area"><a href="#了解-top-的界面-the-task-area" class="headerlink" title="了解 top 的界面 - the task area"></a>了解 top 的界面 - the task area</h2><p><code>summury area</code> 相对简单，通过它我们可以快速了解到当前系统运行的一些摘要统计信息。但是一个细节性的信息，我们只能通过 <code>task area</code> 中来得到。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br><span class="line"> 52601 root      39  19 1310268  14900   9836 S   0.3  0.0  22:59.21 logagent-collec</span><br><span class="line">     1 root      20   0   45416   5244   3968 S   0.0  0.0   5:35.71 systemd</span><br><span class="line">   340 root      20   0   64700  21336  17684 S   0.0  0.1   8:33.90 systemd-journal</span><br><span class="line">   357 root      20   0  101836   2768   2312 S   0.0  0.0   0:01.13 gssproxy</span><br><span class="line">   384 dbus      20   0   28632   2800   2464 S   0.0  0.0   0:00.04 dbus-daemon</span><br><span class="line">   432 root      20   0   84760   5852   4984 S   0.0  0.0   0:00.01 sshd</span><br><span class="line">   461 agent     20   0   52376   5200   3684 S   0.0  0.0   0:00.01 ilogtail</span><br><span class="line">  1690 agent     20   0 2193388 246304  11264 S   0.0  0.7  23:45.88 java</span><br><span class="line">  2527 admin     20   0  161744   4268   3704 R   0.0  0.0   0:00.72 top</span><br><span class="line">  3245 root      20   0  559140  12412   5860 S   0.0  0.0  64:48.67 logagent</span><br><span class="line">  3420 root      20   0  745052  58464  43820 S   0.0  0.2  11:16.32 metricbeat</span><br><span class="line">  3447 root      20   0  957796  55548  43708 S   0.0  0.2  10:14.47 metricbeat</span><br><span class="line">  5093 root      20   0 1905356 159280   9584 S   0.0  0.5  35:00.14 java</span><br><span class="line">  7458 root      20   0   13700   2564   2356 S   0.0  0.0   0:00.00 bash</span><br><span class="line">  7464 root      20   0   86268   4436   3740 S   0.0  0.0   0:00.00 sudo</span><br></pre></td></tr></table></figure>
<p>先来说明下各个列的含义：</p>
<p><strong>PID</strong></p>
<p>这是进程ID，一个惟一的正整数，用于标识进程。</p>
<p><strong>USER</strong></p>
<p>这是启动进程的用户的“有效”用户名(映射到用户ID)。Linux 为进程分配一个真实的用户 ID 和一个有效的用户ID；后者允许进程代表另一个用户进行操作。(例如，非 root 用户可以提升到 root 用户来安装软件)</p>
<p><strong>PR NI</strong><br>“NI” 字段显示进程的 “nice” 值，“PR” 字段是从内核的角度显示了进程的调度优先级，“nice” 值影响的是进程的优先级。</p>
<p><strong>VIRT, RES, SHR and %MEM</strong></p>
<p><code>VIRT</code>、<code>RES</code>、<code>SHR</code> 这三个字段都与进程的内存消耗有关。<code>VIRT</code>是一个进程所消耗的内存总量。这包括程序代码、进程在内存中存储的数据，以及已经 <code>swap</code> 到磁盘的任何内存区域。<code>RES</code>是进程在 RAM 中消耗的内存，<code>%MEM</code> 表示这个值占总可用 RAM 的百分比。最后，<code>SHR</code> 是与其他进程共享的内存量。</p>
<p><strong>S</strong><br>表示进程状态</p>
<p><strong>TIME+</strong></p>
<p><code>TIME+</code> 列表示的是进程自启动以来所使用的总 CPU 时间，精确到百分之一秒。</p>
<p><strong>COMMAND</strong></p>
<p><code>COMMAND</code> 列表示的是当前进程的名称。</p>
<h2 id="top-命令的使用示例"><a href="#top-命令的使用示例" class="headerlink" title="top 命令的使用示例"></a>top 命令的使用示例</h2><p>到目前为止，我们已经讨论了 <code>top</code> 的界面信息所描述的含义。但是，<code>top</code> 除了显示这个信息之外，它还可以管理进程，并且我们可以控制 <code>top</code> 输出的各个方面。在本节中，我们将举几个例子。（在下面的大多数例子中，你必须在 <code>top</code> 运行时按下一个键。这些按键是区分大小写的，所以如果你在大写锁定状态下按了<code>k</code>，你实际上已经按了一个<code>k</code>，但是这个命令并不会工作）</p>
<h3 id="kill-进程"><a href="#kill-进程" class="headerlink" title="kill 进程"></a>kill 进程</h3><p>如果你想杀死一个进程，只要在<code>top</code>运行时按<code>k</code>。这将出现一个提示，它将询问进程的进程ID并按<code>enter</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PID to signal/kill [default pid = 384]</span><br></pre></td></tr></table></figure>
<p>当然上面的这段输出的后面是可以手动输入进程 ID，下面的 34444444444444 就是手动输入的进程ID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PID to signal/kill [default pid = 384] 34444444444444</span><br></pre></td></tr></table></figure>
<p>如果保留此空白，<code>top</code> 将使用一个<code>SIGTERM</code>，它允许进程优雅地终止。如果您想强制终止进程，您可以在这里输入<code>SIGKILL</code>。你也可以在这里输入信号号，例如，<code>SIGTERM</code> 的数字是 <code>384</code>，而 <code>SIGKILL</code> 的数字是<code>。如果你将进程ID留空并直接按</code>enter`，它将终止列表中最顶端的进程。正如前面提到的，我们也可以使用箭头键滚动，并通过这种方式更改想要终止的进程。</p>
<h3 id="排序进程列表"><a href="#排序进程列表" class="headerlink" title="排序进程列表"></a>排序进程列表</h3><p>使用像 <code>top</code> 这样的工具的一个最常见的原因是找出哪个进程消耗的资源最多。我们可以按以下键排序列表:</p>
<ul>
<li>M：用于按内存使用情况排序</li>
<li>P：来按CPU使用率排序</li>
<li>N：按进程ID排序</li>
<li>T：来按运行时间排序</li>
</ul>
<p>默认情况下，<code>top</code> 按降序显示所有结果，但是我们可以通过按<code>R</code>键切换到升序。还可以使用 <code>-o</code> 开关对列表进行排序。例如，如果想排序进程的<code>CPU</code>使用量，可以这样做:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -o %CPU</span><br></pre></td></tr></table></figure>
<h3 id="显示线程列表而不是进程列表"><a href="#显示线程列表而不是进程列表" class="headerlink" title="显示线程列表而不是进程列表"></a>显示线程列表而不是进程列表</h3><p>前面已经介绍过 Linux 如何在进程之间切换。我们知道，进程是不共享内存或其他资源的，这使得这种切换相当慢。和其他操作系统一样，Linux 支持一种“轻量级”的替代方案，称为“线程”。“线程”是进程的一部分，“线程”可以共享内存和其他资源的某些区域，同时它们也可以像进程一样并发运行。默认情况下，<code>top</code>在其输出中显示一个进程列表。如果想列出线程代替进程，按 <code>H</code> 即可，此时 “Tasks” 行将显示的是 “Threads”，显示的是线程的数量，而不是进程的数量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Threads: 351 total,   2 running, 349 sleeping,   0 stopped,   0 zombie</span><br></pre></td></tr></table></figure>
<p>细心的读者可能会发现， summury area 中的 “Tasks” 行已经改变成 “Threads” 的了，但是在 task area 中，对应的列表中的属性却没有任何更改，那既然进程和线程不同，这怎么可能呢? 原因是在 <code>Linux</code> 内核内部，线程和进程使用相同的数据结构进行处理，因此，每个线程都有自己的ID、状态等等。如果我们要切换回进程视图，则再次按 <code>H</code> 即可。此外，也可以使用 <code>top -H</code> 在默认情况下显示线程。</p>
<h3 id="显示进程完整路径"><a href="#显示进程完整路径" class="headerlink" title="显示进程完整路径"></a>显示进程完整路径</h3><p>默认情况下，COMMAND 列下的所有进程名显示的都是摘要名，如果我们期望显示当前进程的完成路径，可以通过按 <code>c</code> 来切换视角，或者直接使用 <code>top -c</code> 来启动交互界面。</p>
<h3 id="以树形结构显示父子进程"><a href="#以树形结构显示父子进程" class="headerlink" title="以树形结构显示父子进程"></a>以树形结构显示父子进程</h3><p>可以通过在 top 交互中按 <code>V</code> 来切到 <code>forest view</code> 视角，即以以树形结构显示父子进程。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   432 root      20   0   84760   5852   4984 S   0.0  0.0   0:00.01  `- /usr/sbin/sshd -D</span><br><span class="line"> 98518 root      20   0  118432   6884   5792 S   0.0  0.0   0:00.00      `- sshd: admin [priv]</span><br><span class="line"> 98520 admin     20   0  118432   3648   2556 S   0.0  0.0   0:01.32          `- sshd: admin@pts/0</span><br><span class="line"> 98521 admin     20   0  120656   4936   3768 S   0.0  0.0   0:00.34              `- -bash</span><br><span class="line">130138 admin     20   0  161748   4208   3624 R   0.0  0.0   0:00.27                  `- top -c</span><br></pre></td></tr></table></figure>
<h3 id="列出用户的进程"><a href="#列出用户的进程" class="headerlink" title="列出用户的进程"></a>列出用户的进程</h3><p>要列出某个用户的进程，请在<code>top</code>运行时按 <code>u</code>。然后，输入用户名，或者留空以显示所有用户的进程；或者直接通过 <code>top -u xxx</code> 来指定 xxx 用户的所有进程信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">KiB Swap:  2097148 total,  2097148 free,        0 used. 31179088 avail Mem</span><br><span class="line">Which user (blank for all) root   # waiting for input</span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND</span><br><span class="line">     1 root      20   0   45416   5244   3968 S   0.0  0.0   5:37.57 /usr/lib/systemd/systemd --system --deserialize 18</span><br><span class="line">   340 root      20   0   72892  30836  27184 S   0.0  0.1   8:36.56 /usr/lib/systemd/systemd-journald</span><br><span class="line">   357 root      20   0  101836   2768   2312 S   0.0  0.0   0:01.14 /usr/sbin/gssproxy -D</span><br><span class="line">   432 root      20   0   84760   5852   4984 S   0.0  0.0   0:00.01 /usr/sbin/sshd -D</span><br></pre></td></tr></table></figure>
<h3 id="过滤进程"><a href="#过滤进程" class="headerlink" title="过滤进程"></a>过滤进程</h3><p>如果我们需要处理许多进程，那么简单的排序实际上对我们的帮助并不是很大。那么在这种情况下，我们可以按 <code>o</code> 来激活 <code>top</code> 的过滤模式，然后通过输入一个过滤器表达式来过滤到我们的目前进程。过滤器表达式是指定属性和值之间关系的语句，例如：</p>
<ul>
<li>COMMAND=java: 进程名=java 的</li>
<li>!COMMAND=java: 进程名 !=java 的</li>
<li>%CPU&gt;3.0: CPU &gt; 3.0  的</li>
</ul>
<p>如果要清除所有过滤条件的话，按 <code>=</code> 即可。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><blockquote>
<p>本文主要是对<a href="https://www.booleanworld.com/guide-linux-top-command/" target="_blank" rel="noopener">A Guide to the Linux “Top” Command</a> 这篇文章的一些内容翻译，感谢原作者提供的分享</p>
</blockquote>
<p><code>top</code> 命令对于监视和管理 Linux 系统上的进程非常有帮助，本文只是从表面做了一些简单的介绍，还有很多我们没有涉及到的内容；例如，如何在 <code>top</code> 中添加更多的列。更多信息，可以通过运行 <code>man top</code> 查看 man 页面，来进行更深层面的学习。</p>

      
    </div>
    <br>
    <br>
    <a href="http://www.glmapper.com/2020/08/10/linux/base-operations-top-command/" class="more">Read more <i class="icon-angle-right"></i></a>
  </div>
</div>
<hr class="blog-post-sep">

      
	<div class="row">
  <div class="col-md-4 col-sm-4">
    
  </div>
  
    <div class="col-xs-12">
  
    
    <h2 itemprop="name">
      <a class="archive-article-title" href="/2019/08/01/seiri-shell-record/">shell 脚本简单归纳和实践</a>
    </h2>


    <ul class="blog-info">
      <li>
      	<i class="fa fa-calendar"></i> 
        <time datetime="2019-08-01T14:14:25.000Z" itemprop="datePublished">2019/08/01</time>

      </li>
      <li><i class="fa fa-comments"></i>
        <a href="http://www.glmapper.com/2019/08/01/seiri-shell-record/#disqus_thread" class="article-comment-link">Comments</a>
      </li>
      <li>
	<i class="fa fa-tags"></i>
	
  
    <a href="/tags/linux/" title="linux">linux</a>,
  
    <a href="/tags/shell/" title="shell">shell</a>
  


      </li>
    </ul>
    <div class="blog-item">
      
	<h2 id="if-条件-OPTION"><a href="#if-条件-OPTION" class="headerlink" title="if 条件 OPTION"></a>if 条件 OPTION</h2><table>
<thead>
<tr>
<th>OPTION</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>[-a file]</td>
<td>如果file存在则为真 ，也可以表示为 and: 条件与<br>if [ -z “condition1” -a -z “condition2” ]</td>
</tr>
<tr>
<td>[-b file]</td>
<td>如果file存在且是一个<strong>块</strong>特殊文件则为真</td>
</tr>
<tr>
<td>[-c file]</td>
<td>如果file存在且是一个<strong>字</strong>特殊文件则为真</td>
</tr>
<tr>
<td>[-d file]</td>
<td>如果 file 文件存在且是一个目录则为真，d前的!是逻辑非 <br>#表示目录不存在，则执行后面的 then 操作 <br>if [ ! -d lcd_path/par_date ]</td>
</tr>
<tr>
<td>[-e file]</td>
<td>如果 file文件存在则为真</td>
</tr>
<tr>
<td>[-f file]</td>
<td>如果 file 存在且是一个普通文件则为真</td>
</tr>
<tr>
<td>[-g file]</td>
<td>如果 file 存在且已经设置了SGID则为真（SUID 是 Set User ID, SGID 是 Set Group ID的意思）</td>
</tr>
<tr>
<td>[-h file]</td>
<td>如果 file 存在且是一个符号连接则为真</td>
</tr>
<tr>
<td>[-k file]</td>
<td>如果 file 存在且已经设置粘制位则为真</td>
</tr>
<tr>
<td>[-p file]</td>
<td>如果file存在且是一个名字管道（F如果O）则为真。管道是linux里面进程间通信的一种方式，<br>其他的还有像信号（signal）、信号量、消息队列、共享内存、套接字（socket）等</td>
</tr>
<tr>
<td>[-r file]</td>
<td>如果file存在且是可读的则为真</td>
</tr>
<tr>
<td>[-s file]</td>
<td>如果file存在且大小不为0则为真</td>
</tr>
<tr>
<td>[-t FD]</td>
<td>如果文件描述符FD打开且指向一个终端则为真</td>
</tr>
<tr>
<td>[-u file]</td>
<td>如果file存在且设置了SUID（set userID）则为真</td>
</tr>
<tr>
<td>[-w file</td>
<td>如果file存在且是可写的则为真</td>
</tr>
<tr>
<td>[-x file]</td>
<td>如果file存在且是可执行的则为真</td>
</tr>
<tr>
<td>[-O file]</td>
<td>如果file存在且属有效用户ID则为真</td>
</tr>
<tr>
<td>[-G file]</td>
<td>如果file存在且属有效用户组则为真</td>
</tr>
<tr>
<td>[-L file]</td>
<td>如果file存在且是一个符号连接则为真</td>
</tr>
<tr>
<td>[-N file]</td>
<td>如果file存在and has been mod如果ied since it was last read则为真</td>
</tr>
<tr>
<td>[-S file]</td>
<td>如果file存在且是一个套接字则为真</td>
</tr>
<tr>
<td>[-o optionname]</td>
<td>如果shell选项“optionname”开启则为真</td>
</tr>
<tr>
<td>[-z string]</td>
<td>“string”的长度为零则为真</td>
</tr>
<tr>
<td>[-n string] or [string]</td>
<td>“string”的长度为非零non-zero则为真</td>
</tr>
</tbody>
</table>
<p><a name="hMvnK"></a></p>
<h2 id="if-基本判断"><a href="#if-基本判断" class="headerlink" title="if 基本判断"></a>if 基本判断</h2><ul>
<li>[file1 –nt file2] 如果file1 has been changed more recently than file2或者file1 exists and file2 does not则为真 </li>
<li>[file1 –ot file2] 如果file1比file2要老，或者file2存在且file1不存在则为真 </li>
<li>[file1 –ef file2] 如果file1和file2指向相同的设备和节点号则为真 </li>
<li>[sting1==string2] 如果2个字符串相同。“=”may be used instead of “==”for strict posix compliance则为真 </li>
<li>[string1!=string2] 如果字符串不相等则为真 </li>
<li>[string1&lt;string2] 如果“string1”sorts before“string2”lexicographically in the current locale则为真 </li>
<li>[arg1 OP arg2]  “OP”is one of –eq,-ne,-lt,-le,-gt or –ge</li>
</ul>
<h2 id="截取字符串"><a href="#截取字符串" class="headerlink" title="截取字符串"></a>截取字符串</h2><ul>
<li><strong># 号截取，删除左边字符，保留右边字符。 （非贪婪匹配）</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># # 号是运算符，*/ 表示从左边开始删除第一个 / 号及左边的所有字符,即删除 http://</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var#*//&#125;</span></span><br><span class="line"><span class="comment">#结果 www.glmapper.com</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>## 号截取，删除左边字符，保留右边字符。</strong>（贪婪匹配）<em>**</em></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># ##*/ 表示从左边开始删除最后（最右边）一个 / 号及左边的所有字符</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var##*//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 结果 www.glmapper.com</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>%号截取，删除右边字符，保留左边字符 </strong>（非贪婪匹配）<em>**</em></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># %/* 表示从右边开始，删除第一个 / 号及右边的字符</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var%/*&#125;</span></span><br><span class="line"><span class="comment"># 结果是：http:/</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>%% 号截取，删除右边字符，保留左边字符  </strong>（贪婪匹配）<em>**</em></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># %%/* 表示从右边开始，删除最后（最左边）一个 / 号及右边的字符</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var%%/*&#125;</span></span><br><span class="line"><span class="comment"># 结果 ：http:</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>从左边第几个字符开始，及字符的个数</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># 其中的 0 表示左边第一个字符开始，5 表示字符的总个数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var:0:5&#125;</span></span><br><span class="line"><span class="comment"># 结果 http:</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>从左边第几个字符开始，一直到结束</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># 其中的 7 表示左边第8个字符开始，一直到结束。</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var:7&#125;</span></span><br><span class="line"><span class="comment"># 结果 www.glmapper.com</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>从右边第几个字符开始，及字符的个数</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># 其中的 0-3 表示右边算起第3个字符开始，3 表示字符的个数</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var:0-3:3&#125;</span></span><br><span class="line"><span class="comment"># 结果 com</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>从右边第几个字符开始，一直到结束</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var=http://www.glmapper.com</span><br><span class="line"><span class="comment"># 表示从右边第 3 个字符开始，一直到结束</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var:0-3&#125;</span></span><br><span class="line"><span class="comment"># 结果 com</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>左边的第一个字符是用 0 表示，右边的第一个字符用 0-1 表示</p>
</blockquote>
<p><a name="j4jqy"></a></p>
<h2 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h2><p><a name="N5taV"></a></p>
<h3 id="basename-命令简介"><a href="#basename-命令简介" class="headerlink" title="basename 命令简介"></a>basename 命令简介</h3><p>去除文件名的目录部分和后缀部分。basename 命令读取 String 参数，删除以 /(斜杠) 结尾的前缀以及任何指定的 Suffix 参数，并将剩余的基本文件名称写至标准输出。basename 和 dirname 命令通常用于 shell 脚本中的命令<strong>替换来指定和指定的输入文件名称有所差异的输出文件名称。</strong><br>**<br>基本语法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">basename NAME [SUFFIX]</span><br><span class="line">basename OPTION</span><br></pre></td></tr></table></figure>
<p><a name="rCZMr"></a></p>
<h3 id="基本示例"><a href="#基本示例" class="headerlink" title="基本示例"></a>基本示例</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">basename /usr/bin/sort</span><br><span class="line"><span class="comment"># 返回 sort</span></span><br><span class="line"></span><br><span class="line">basename /usr/bin/sort/glmapper.txt</span><br><span class="line"><span class="comment"># 返回 glmapper.txt</span></span><br></pre></td></tr></table></figure>
<p><a name="pjCcq"></a></p>
<h3 id="创建基本文件名称的规则"><a href="#创建基本文件名称的规则" class="headerlink" title="创建基本文件名称的规则"></a>创建基本文件名称的规则</h3><ul>
<li>如果 String 参数是 //(双斜杠) 或如果 String 参数包含的都是斜杠字符，则将字符串更改为单个 /(斜杠)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">basename //usr//bin//sort//glmapper.txt</span><br><span class="line"><span class="comment"># 返回 glmapper.txt</span></span><br><span class="line"></span><br><span class="line">basename ////</span><br><span class="line"><span class="comment"># 返回 /</span></span><br></pre></td></tr></table></figure>
<ul>
<li>从指定字符串除去任何拖尾的 / 字符。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">basename /usr/bin/sort/</span><br><span class="line"><span class="comment"># 返回 sort</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果在 String 参数中剩余任何 / 字符，则除去字符串的前缀直到（包含）最后一个 / 字符。</li>
<li>如果指定 Suffix 参数，且它和字符串中的剩余的字符相同，则不修改此字符串</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">basename /usr/bin/sort/glmapper.txt glmapper.txt </span><br><span class="line"><span class="comment"># 返回glmapper.txt </span></span><br><span class="line"></span><br><span class="line">basename /usr/bin/sort/glmapper.txt .txt </span><br><span class="line"><span class="comment"># 返回 glmapper</span></span><br></pre></td></tr></table></figure>
<p><a name="EBlrQ"></a></p>
<h2 id="shell-查看当前目录下文件的个数"><a href="#shell-查看当前目录下文件的个数" class="headerlink" title="shell 查看当前目录下文件的个数"></a>shell 查看当前目录下文件的个数</h2><p>测试准备，test 目录下有 test1、test2 两个文件夹和一个 1.txt 文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-<span class="built_in">test</span></span><br><span class="line">├── 1.txt</span><br><span class="line">├── test1</span><br><span class="line">│   └── test1_1.txt</span><br><span class="line">└── test2</span><br></pre></td></tr></table></figure>
<ul>
<li>查看当前目录下文件的个数</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  <span class="built_in">test</span> ls -l | grep <span class="string">"^-"</span> | wc -l</span><br><span class="line">   1 <span class="comment"># 1.txt</span></span><br></pre></td></tr></table></figure>
<ul>
<li>查看当前目录下文件的个数，包括子目录里的</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  <span class="built_in">test</span> ls -lR| grep <span class="string">"^-"</span> | wc -l</span><br><span class="line">   2 <span class="comment"># 1.txt  test1_1.txt</span></span><br></pre></td></tr></table></figure>
<ul>
<li>查看某目录下文件夹（目录）的个数，包括子目录里的</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">➜  <span class="built_in">test</span> ls -lR| grep <span class="string">"^d"</span> | wc -l</span><br><span class="line">	 2 <span class="comment"># test1 test2</span></span><br></pre></td></tr></table></figure>
<ul>
<li>说明：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、ls -l ：长列表输出该目录下文件信息(注意这里的文件,不同于一般的文件,可能是目录、链接、设备文件等)</span><br><span class="line">2、grep <span class="string">"^-"</span> ：这里将长列表输出信息过滤一部分,只保留一般文件,如果只保留目录就是 ^d</span><br><span class="line">3、wc -l ： 统计输出信息的行数,已经过滤得只剩一般文件了,统计结果就是一般文件信息的行数,</span><br><span class="line">					又一行信息对应一个文件,也就是文件的个数</span><br></pre></td></tr></table></figure>
<p><a name="cOjDe"></a></p>
<h2 id="利用简单的命令组合实现配置文件的获取"><a href="#利用简单的命令组合实现配置文件的获取" class="headerlink" title="利用简单的命令组合实现配置文件的获取"></a>利用简单的命令组合实现配置文件的获取</h2><p>测试准备，在 1.txt 中 增加两个属性：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name=glmapper</span><br><span class="line">age=26</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat /Users/guolei/logs/<span class="built_in">test</span>/1.txt | sed <span class="string">'s|[[:blank:]]||g'</span> | grep <span class="string">"^name="</span> | cut -d= -f2</span><br><span class="line"><span class="comment"># 返回 glmapper </span></span><br><span class="line"></span><br><span class="line">cat /Users/guolei/logs/<span class="built_in">test</span>/1.txt | sed <span class="string">'s|[[:blank:]]||g'</span> | grep <span class="string">"^age="</span> | cut -d= -f2</span><br><span class="line"><span class="comment"># 返回 26</span></span><br></pre></td></tr></table></figure>
<p><a name="ok2lo"></a></p>
<h2 id="函数封装与返回"><a href="#函数封装与返回" class="headerlink" title="函数封装与返回"></a>函数封装与返回</h2><p>以上面的解析配置文件为例，将其封装成一个函数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> load_param()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"># 接受的第一个参数是文件地址</span></span><br><span class="line">    <span class="built_in">local</span> properties_file=<span class="variable">$1</span></span><br><span class="line">    <span class="comment"># 接受的第二个参数是属性名</span></span><br><span class="line">    <span class="built_in">local</span> param=<span class="variable">$2</span></span><br><span class="line">    RESULT=`cat <span class="variable">$properties_file</span> | sed <span class="string">'s|[[:blank:]]||g'</span> | grep <span class="string">"^<span class="variable">$param</span>="</span> | cut -d= -f2`</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>调用函数并且获取返回值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">load_param 1.txt name</span><br><span class="line">PROP_VAL=<span class="variable">$RESULT</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PROP_VAL</span></span><br><span class="line"><span class="comment"># 返回 glmapper</span></span><br></pre></td></tr></table></figure>
<p><a name="QhWTo"></a></p>
<h2 id="shell-实现日志文件的归档处理"><a href="#shell-实现日志文件的归档处理" class="headerlink" title="shell 实现日志文件的归档处理"></a>shell 实现日志文件的归档处理</h2><p>日志归档简单来说就是，每次希望启动，会将前一次程序运行产生的日志和本地运行产生的日志隔离开来，归档结果就是产生类似于如下的日志文件：</p>
<ul>
<li>stdout.log.20170909</li>
<li>stdout.log.20170709</li>
<li>stdout</li>
</ul>
<p>所以日志文件的归档在生产脚本中是必须要考虑的，否则就到导致每次产生的文件都会被写入同一份日志文件中。下面是实践过程中归纳的一个日志归档函数：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># archive log</span></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">archive_log</span></span>() &#123;</span><br><span class="line">    <span class="built_in">local</span> FILE_STDOUT_LOG=<span class="variable">$LOG_ROOT</span>/stdout.log</span><br><span class="line">    <span class="built_in">local</span> FILE_STDERR_LOG=<span class="variable">$LOG_ROOT</span>/stderr.log</span><br><span class="line">    <span class="keyword">if</span> [ ! -e <span class="variable">$LOG_ROOT</span> ] ; <span class="keyword">then</span></span><br><span class="line">        mkdir -p <span class="variable">$LOG_ROOT</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">    NOW=`date +%Y%m%d.%H%M%S`</span><br><span class="line">    <span class="comment"># scroll SOFABoot STDOUT log</span></span><br><span class="line">    <span class="keyword">if</span> [ -e <span class="variable">$FILE_STDOUT_LOG</span> ] ; <span class="keyword">then</span></span><br><span class="line">        mv <span class="variable">$FILE_STDOUT_LOG</span> <span class="variable">$FILE_STDOUT_LOG</span>.<span class="variable">$NOW</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># scroll SOFABoot STDERR log</span></span><br><span class="line">    <span class="keyword">if</span> [ -e <span class="variable">$FILE_STDERR_LOG</span> ] ; <span class="keyword">then</span></span><br><span class="line">        mv <span class="variable">$FILE_STDERR_LOG</span> <span class="variable">$FILE_STDERR_LOG</span>.<span class="variable">$NOW</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">    FILE_STDOUT_LOG_GLOBAL=<span class="variable">$FILE_STDOUT_LOG</span>;</span><br><span class="line">    FILE_STDERR_LOG_GLOBAL=<span class="variable">$FILE_STDERR_LOG</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a name="ctqA0"></a></p>
<h2 id="一个简单的-SOFABoot-启动脚本"><a href="#一个简单的-SOFABoot-启动脚本" class="headerlink" title="一个简单的 SOFABoot 启动脚本"></a>一个简单的 SOFABoot 启动脚本</h2><p>deploy.sh  简单的启动脚本：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">LOG_ROOT= <span class="variable">$1</span>;</span><br><span class="line">APP_PATH= <span class="variable">$2</span>;</span><br><span class="line"><span class="comment"># 检查 JAVA_HOME</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">"<span class="variable">$JAVA_HOME</span>"</span> ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"JAVA_HOME not set, exit"</span></span><br><span class="line">  <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment"># 使用前面的那个日志归档函数</span></span><br><span class="line">archive_log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动 java 程序</span></span><br><span class="line">java -jar <span class="variable">$APP_PATH</span> &gt;&gt; <span class="variable">$FILE_STDOUT_LOG_GLOBAL</span> 2&gt;&gt; <span class="variable">$FILE_STDOUT_LOG_GLOBAL</span> &amp;</span><br></pre></td></tr></table></figure>
<p>运行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh deploy.sh ./logs app.jar</span><br></pre></td></tr></table></figure>
<p><a name="B97pL"></a></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>本文记录日常中常遇到的 shell 命令，基础知识部分零碎的参考了网上一些同学的博客，在此做了归纳。也欢迎大家指正。如果你有比较骚气的操作，也欢迎评论席留言，我会验证后更新到文章中来。</p>

      
    </div>
    <br>
    <br>
    <a href="http://www.glmapper.com/2019/08/01/seiri-shell-record/" class="more">Read more <i class="icon-angle-right"></i></a>
  </div>
</div>
<hr class="blog-post-sep">

      
	<div class="row">
  <div class="col-md-4 col-sm-4">
    
  </div>
  
    <div class="col-xs-12">
  
    
    <h2 itemprop="name">
      <a class="archive-article-title" href="/2019/03/04/zookeeper-on-linux/">Linux 下安装 Zookeeper</a>
    </h2>


    <ul class="blog-info">
      <li>
      	<i class="fa fa-calendar"></i> 
        <time datetime="2019-03-04T12:29:18.000Z" itemprop="datePublished">2019/03/04</time>

      </li>
      <li><i class="fa fa-comments"></i>
        <a href="http://www.glmapper.com/2019/03/04/zookeeper-on-linux/#disqus_thread" class="article-comment-link">Comments</a>
      </li>
      <li>
	<i class="fa fa-tags"></i>
	
  
    <a href="/tags/linux/" title="linux">linux</a>,
  
    <a href="/tags/zookeeper/" title="zookeeper">zookeeper</a>
  


      </li>
    </ul>
    <div class="blog-item">
      
	<h2 id="安装-Zookeeper"><a href="#安装-Zookeeper" class="headerlink" title="安装 Zookeeper"></a>安装 Zookeeper</h2><p>目前 Curator 有 2.x.x 和 3.x.x 两个系列的版本，支持不同版本的 Zookeeper。其中 Curator 2.x.x 兼容 Zookeeper的 3.4.x 和 3.5.x。而 Curator 3.x.x 只兼容 Zookeeper 3.5.x。</p>
<blockquote>
<p>Curator 2.x.x - compatible with both ZooKeeper 3.4.x and ZooKeeper 3.5.x<br>Curator 3.x.x - compatible only with ZooKeeper 3.5.x and includes support for new</p>
</blockquote>
<p>选择使用 3.4.x 版本 Zookeeper。</p>
<ul>
<li><a href="http://apache.fayea.com/zookeeper/" target="_blank" rel="noopener">下载 Zookeeper</a> ，选择相应的版本，这里以 3.4.13 版本为例：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> wget http://apache.fayea.com/zookeeper/zookeeper-3.4.13/zookeeper-3.4.13.tar.gz</span></span><br></pre></td></tr></table></figure>
<p>执行上述命令进行下载，下载完成之后对文件进行解压。</p>
<ul>
<li><p>解压文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> tar -zxvf zookeeper-3.4.13.tar.gz</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建数据和日志目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">cd</span> zookeeper-3.4.13</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> mkdir data</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> mkdir logs</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置文件修改<br>首先将默认的 zoo_sample.cfg 命名为 zoo.cfg</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">cd</span> conf</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cp zoo_sample.cfg zoo.cfg</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>编辑 zoo.cfg ， 将数据目录和日志目录路径修改为上述步骤中创建的两个文件夹：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 配置dataDir 和 dataLogDir</span></span><br><span class="line">dataDir=/home/admin/server/zookeeper-3.4.13/data</span><br><span class="line">dataLogDir=/home/admin/server/zookeeper-3.4.13/logs</span><br></pre></td></tr></table></figure>
<ul>
<li>启动 zookeeper<br>到你安装的zookeeper的bin目录下，如：/home/admin/server/zookeeper-3.4.13/bin<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">cd</span> /home/admin/server/zookeeper-3.4.13/bin</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>执行 start 启动</p>
<pre><code class="shell"><span class="meta">&gt;</span><span class="bash"> zkServer.sh start</span>
</code></pre>
<p>上述是简单的在 linux 环境下安装配置 Zookeeper 的过程，对于在实际的生成环境，请根据自己项目需求进行更加细化的配置。</p>
<h2 id="安装-Zookeeper-可视化工具"><a href="#安装-Zookeeper-可视化工具" class="headerlink" title="安装 Zookeeper 可视化工具"></a>安装 Zookeeper 可视化工具</h2><p>为了可以直观的看到 zookeeper 的节点信息，可以考虑部署一个 zookeeper 的管控界面，常见的有 zkui 和 zkweb。</p>
<ul>
<li><a href="https://github.com/DeemOpen/zkui" target="_blank" rel="noopener">zkui</a></li>
<li><a href="https://github.com/zhitom/zkweb" target="_blank" rel="noopener">zkweb</a></li>
</ul>
<p>zkui 界面更加简单一点，zkweb 在一些细节展示上更加有优势，这里推荐使用  zkweb。具体部署方式见官方文档。</p>

      
    </div>
    <br>
    <br>
    <a href="http://www.glmapper.com/2019/03/04/zookeeper-on-linux/" class="more">Read more <i class="icon-angle-right"></i></a>
  </div>
</div>
<hr class="blog-post-sep">

      
	<div class="row">
  <div class="col-md-4 col-sm-4">
    
  </div>
  
    <div class="col-xs-12">
  
    
    <h2 itemprop="name">
      <a class="archive-article-title" href="/2019/01/05/mysql-on-linux/">Linux 下安装 Mysql 数据库</a>
    </h2>


    <ul class="blog-info">
      <li>
      	<i class="fa fa-calendar"></i> 
        <time datetime="2019-01-05T09:09:15.000Z" itemprop="datePublished">2019/01/05</time>

      </li>
      <li><i class="fa fa-comments"></i>
        <a href="http://www.glmapper.com/2019/01/05/mysql-on-linux/#disqus_thread" class="article-comment-link">Comments</a>
      </li>
      <li>
	<i class="fa fa-tags"></i>
	
  
    <a href="/tags/mysql/" title="mysql">mysql</a>,
  
    <a href="/tags/linux/" title="linux">linux</a>
  


      </li>
    </ul>
    <div class="blog-item">
      
	<p>最近在搞 Apollo ，熟悉的同学应该知道，Apollo 需要依赖 Mysql。本以为很容易搞定，但是却踩了一路坑，眼高手低，也参考了网上很多博客，果然是残缺就是美！本篇就简单记录一下这个过程，以便后面参考。</p>
<h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><ul>
<li><p>linux：centOS 7</p>
</li>
<li><p>jdk：8</p>
</li>
<li><p>Mysql：5.7.24</p>
</li>
</ul>
<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>安装前，我们可以检测系统是否自带安装 MySQL:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep mysql</span><br></pre></td></tr></table></figure>
<p>如果你系统有安装，那可以选择进行卸载，有两种模式：</p>
<ul>
<li><p>普通删除模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e mysql</span><br></pre></td></tr></table></figure>
</li>
<li><p>强力删除模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e --nodeps mysql</span><br></pre></td></tr></table></figure>
<p>如果使用上面命令删除时，提示有依赖的其它文件，则用该命令可以对其进行强力删除</p>
</li>
</ul>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ul>
<li>下载mysql安装包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm</span><br><span class="line"></span><br><span class="line">-2018-06-06 16:41:46--  https://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm</span><br><span class="line">正在解析主机 dev.mysql.com (dev.mysql.com)... xxxx</span><br><span class="line">正在连接 dev.mysql.com (dev.mysql.com)|xxxxx|:443... 已连接。</span><br><span class="line">已发出 HTTP 请求，正在等待回应... 302 Found</span><br><span class="line">位置：https://repo.mysql.com//mysql57-community-release-el7-9.noarch.rpm [跟随至新的 URL]</span><br><span class="line">--2018-06-06 16:41:48--  https://repo.mysql.com//mysql57-community-release-el7-9.noarch.rpm</span><br><span class="line">正在解析主机 repo.mysql.com (repo.mysql.com)... xxxxx</span><br><span class="line">正在连接 repo.mysql.com (repo.mysql.com)|xxxx|:443... 已连接。</span><br><span class="line">已发出 HTTP 请求，正在等待回应... 200 OK</span><br><span class="line">长度：9224 (9.0K) [application/x-redhat-package-manager]</span><br><span class="line">正在保存至: “mysql57-community-release-el7-9.noarch.rpm”</span><br><span class="line"></span><br><span class="line">100%[==========================================================&gt;] 9,224       --.-K/s 用时 0s      </span><br><span class="line"></span><br><span class="line">2018-06-06 16:41:48 (169 MB/s) - 已保存 “mysql57-community-release-el7-9.noarch.rpm” [9224/9224])</span><br></pre></td></tr></table></figure>
<ul>
<li>安装</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh mysql57-community-release-el7-9.noarch.rpm</span><br><span class="line"></span><br><span class="line">准备中...                          ################################# [100%]</span><br><span class="line">正在升级/安装...</span><br><span class="line">   1:mysql57-community-release-el7-9  ################################# [100%]</span><br></pre></td></tr></table></figure>
<ul>
<li>下载安装依赖包</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">yum install mysql-server</span><br><span class="line"></span><br><span class="line">已加载插件：fastestmirror, langpacks</span><br><span class="line">mysql-connectors-community                                                   | 2.5 kB  00:00:00     </span><br><span class="line">mysql-tools-community                                                        | 2.5 kB  00:00:00     </span><br><span class="line">mysql57-community                                                            | 2.5 kB  00:00:00     </span><br><span class="line">(1/3): mysql-connectors-community/x86_64/primary_db                          |  20 kB  00:00:00     </span><br><span class="line">(2/3): mysql-tools-community/x86_64/primary_db                               |  41 kB  00:00:00     </span><br><span class="line">(3/3): mysql57-community/x86_64/primary_db                                   | 144 kB  00:00:00     </span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.cn99.com</span><br><span class="line"> * extras: mirrors.cn99.com</span><br><span class="line"> * updates: mirrors.cn99.com</span><br><span class="line">正在解决依赖关系 </span><br><span class="line">....</span><br></pre></td></tr></table></figure>
<p>第一次下载这里会比较慢</p>
<ul>
<li><p>验证是否安装成功</p>
<ul>
<li>mysqladmin –version</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin  Ver 8.42 Distrib 5.7.22, for Linux on x86_64</span><br></pre></td></tr></table></figure>
<ul>
<li>mysql -V</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql  Ver 14.14 Distrib 5.7.24, for Linux (x86_64) using  EditLine wrapper</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动MySQL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mysqld</span><br></pre></td></tr></table></figure>
</li>
<li><p>查看 MySQL 运行状态</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status mysqld</span><br></pre></td></tr></table></figure>
</li>
<li><p>停止 MySQL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop mysqld</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启 MySQL</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysqld</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="关于密码"><a href="#关于密码" class="headerlink" title="关于密码"></a>关于密码</h3><p>Mysql 5.7 默认安装之后 root 是有密码的，获取 MySQL 的临时密码 为了加强安全性，MySQL 5.7 为 root 用户随机生成了一个密码，在 error log 中，关于 error log 的位置，如果安装的是 RPM 包，则默认是 /var/log/mysqld.log 。 只有启动过一次 mysql 才可以查看临时密码。</p>
<p>在利用 YUM 安装 mysql 数据库过程中，系统会自动生成一个临时密码，获取方式为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &apos;temporary password&apos; /var/log/mysqld.log</span><br></pre></td></tr></table></figure>
<ul>
<li><p>没有密码</p>
<p>如果以前安装过 mysql，这时的 mysqld.log 中就不会有 temporary password<br>这时就需要删除 mysql 残留的数据：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /var/lib/mysql</span><br></pre></td></tr></table></figure>
<p>执行完毕后需要重新启动MySQL服务:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysqld</span><br></pre></td></tr></table></figure>
<p>这时就可以通过上面的命令去查找数据库生成的临时密码了</p>
</li>
</ul>
<h3 id="mysql-1130-错误"><a href="#mysql-1130-错误" class="headerlink" title="mysql 1130 错误"></a>mysql 1130 错误</h3><p>可能是你的帐号不允许从远程登陆，只能在 localhost。这个时候只要在 localhost 的那台电脑，登入 mysql 后，更改 “mysql” 数据库里的 “user” 表里的 “host” 项，从”localhost”改称”%”</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -pvmwaremysql&gt;use mysql;</span><br><span class="line">mysql&gt; update user set host = '%' where user = 'root';</span><br><span class="line">mysql&gt; select host, user from user;</span><br></pre></td></tr></table></figure>
<p>使得我们当前的账户和密码能够应用的所有的远程主机连接：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; GRANT ALL PRIVILEGES ON . TO 'myuser'@'%' IDENTIFIED BY 'mypassword' WITH GRANT OPTION;</span><br><span class="line">&gt; FLUSH   PRIVILEGES;</span><br></pre></td></tr></table></figure>

      
    </div>
    <br>
    <br>
    <a href="http://www.glmapper.com/2019/01/05/mysql-on-linux/" class="more">Read more <i class="icon-angle-right"></i></a>
  </div>
</div>
<hr class="blog-post-sep">

      
    </div>
    
      <div id="page-nav" class="pagination">
	<span class="page-number current">1</span>
      </div>
    
  </section>

</div>

</div>

</section>
</div>


    <!-- BEGIN PRE-FOOTER -->
    <div class="pre-footer">
      <div class="container">
        <div class="row">
          <!-- BEGIN BOTTOM ABOUT BLOCK -->
          <div class="col-md-4 col-sm-6 pre-footer-col">
            <h2>About Us</h2>
            <p>Computer Lab is a software development and marketing company based in Brooklyn, New York. <br><br> Computer Lab was founded in 2015, and is focused on so on and so forth.</p>
          </div>
          <!-- END BOTTOM ABOUT BLOCK -->

          <!-- BEGIN BOTTOM CONTACTS -->
          <div class="col-md-4 col-sm-6 pre-footer-col">
            <h2>Contact</h2>
            <address class="margin-bottom-40">
              140 Metropolitan Avenue<br>
              5th Floor<br>
              Brooklyn, NY 11249<br>
              Phone: 716-472-4484<br>
              Email: <a href="mailto:ptsteadman@gmail.com">ptsteadman@gmail.com</a><br>
            </address>
          </div>
          <!-- END BOTTOM CONTACTS -->

	
          <!-- BEGIN TWITTER BLOCK --> 
          <div class="col-md-4 col-sm-6 pre-footer-col">

	  <a data-tweet-limit="1" class="twitter-timeline" href="https://twitter.com/computerlab_" data-widget-id="678830341331820544">Tweets by @computerlab_</a>

	  <script>!function(d,s,id){var
	  js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

          </div>
          <!-- END TWITTER BLOCK -->
	
        </div>
      </div>
    </div>
    <!-- END PRE-FOOTER -->

    <!-- BEGIN FOOTER -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <!-- BEGIN COPYRIGHT -->
          <div class="col-md-6 col-sm-6 padding-top-10">
                  &copy; 2020 glmapper<br>
 <a href="javascript:;">Privacy Policy</a> | <a href="javascript:;">Terms of Service</a>
          </div>
          <!-- END COPYRIGHT -->
	  <!-- BEGIN SOCIAL -->
<div class="col-md-6 col-sm-6">
  <ul class="social-footer list-unstyled list-inline pull-right">
    
      <li><a href="https://github.com/ptsteadman"><i class="fa fa-github"></i></a></li>
    
      <li><a href="https://twitter.com/ptsteadman"><i class="fa fa-twitter"></i></a></li>
    
      <li><a href="https://www.facebook.com/ptsteadman"><i class="fa fa-facebook"></i></a></li>
    
      <li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li>
    
      <li><a href="https://linkedin.com/in/ptsteadman"><i class="fa fa-linkedin"></i></a></li>
    
      <li><a href="http://stackoverflow.com/users/2480493/patrick-steadman"><i class="fa fa-stackoverflow"></i></a></li>
    
  </ul>  
</div>
<!-- END SOCIAL -->

        </div>
      </div>
    </div>
    <!-- END FOOTER -->

  <!-- BEGIN CORE PLUGINS (REQUIRED FOR ALL PAGES) -->
<!--[if lt IE 9]>
<script src="/metronic/assets/plugins/respond.min.js"></script>
<![endif]--> 
<script src="/metronic/assets/plugins/jquery.min.js"></script>
<script src="/metronic/assets/plugins/jquery-migrate.min.js"></script>
<script src="/metronic/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="/metronic/assets/corporate/scripts/back-to-top.js"></script>
<script src="/metronic/assets/plugins/owl.carousel/owl.carousel.min.js"></script>
<script src="/metronic/assets/corporate/scripts/layout.js"></script>
<script src="/js/wow.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script type="text/javascript">
    jQuery(document).ready(function() {
        Layout.init();    
        Layout.initOWL();
        Layout.initTwitter();
        Layout.initFixHeaderWithPreHeader(); /* Switch On Header Fixing (only if you have pre-header) */
        Layout.initNavScrolling(); 
	new WOW().init();
    });
</script>
<!-- END CORE PLUGINS -->

<!-- BEGIN PAGE-SPECIFIC PLUGINS --> 







<!-- END PAGE-SPECIFIC PLUGINS --> 

<!-- BEGIN INTEGRATIONS -->





<!-- END INTEGRATIONS -->

</body>
</html>
