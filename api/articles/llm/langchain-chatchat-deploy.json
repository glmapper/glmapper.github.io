{"title":"win 10 éƒ¨ç½² langchain-chatchat gpu ç‰ˆ","uid":"815e5fe8003f703e73f556f106d850e3","slug":"llm/langchain-chatchat-deploy","date":"2024-01-05T09:32:34.000Z","updated":"2024-07-05T04:09:05.779Z","comments":true,"path":"api/articles/llm/langchain-chatchat-deploy.json","keywords":null,"cover":[],"content":"<p>åŸºäº ChatGLM ç­‰å¤§è¯­è¨€æ¨¡å‹ä¸ Langchain ç­‰åº”ç”¨æ¡†æ¶å®ç°ï¼Œå¼€æºã€å¯ç¦»çº¿éƒ¨ç½²çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)å¤§æ¨¡å‹çŸ¥è¯†åº“é¡¹ç›®ã€‚</p>\n<span id=\"more\"></span>\n<h2 id=\"æœ¬åœ°ç¯å¢ƒ\"><a href=\"#æœ¬åœ°ç¯å¢ƒ\" class=\"headerlink\" title=\"æœ¬åœ°ç¯å¢ƒ\"></a>æœ¬åœ°ç¯å¢ƒ</h2><ul>\n<li>å“ç‰Œï¼šæˆ´å°” optiplex 7000</li>\n<li>æ“ä½œç³»ç»Ÿï¼šwin11  å®¶åº­ç‰ˆ x64</li>\n<li>å¤„ç†å™¨ï¼š12th Gen Intel(R) Core(TM) i9-12900 2.4 GHz</li>\n<li>æ˜¾å¡ï¼šRTX 3060  12g</li>\n</ul>\n<p>nvidia-smi  æŸ¥çœ‹ GPU ä¿¡æ¯å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Fri Jan  5 14:38:11 2024</span><br><span class=\"line\">+---------------------------------------------------------------------------------------+</span><br><span class=\"line\">| NVIDIA-SMI 536.19                 Driver Version: 536.19       CUDA Version: 12.2     |</span><br><span class=\"line\">|-----------------------------------------+----------------------+----------------------+</span><br><span class=\"line\">| GPU  Name                     TCC/WDDM  | Bus-Id        Disp.A | Volatile Uncorr. ECC |</span><br><span class=\"line\">| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |</span><br><span class=\"line\">|                                         |                      |               MIG M. |</span><br><span class=\"line\">|=========================================+======================+======================|</span><br><span class=\"line\">|   0  NVIDIA GeForce RTX 3060      WDDM  | 00000000:01:00.0  On |                  N/A |</span><br><span class=\"line\">|  0%   35C    P8               7W / 170W |  12063MiB / 12288MiB |      7%      Default |</span><br><span class=\"line\">|                                         |                      |                  N/A |</span><br><span class=\"line\">+-----------------------------------------+----------------------+----------------------+</span><br><span class=\"line\"></span><br><span class=\"line\">+---------------------------------------------------------------------------------------+</span><br><span class=\"line\">| Processes:                                                                            |</span><br><span class=\"line\">|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |</span><br><span class=\"line\">|        ID   ID                                                             Usage      |</span><br><span class=\"line\">|=======================================================================================|</span><br><span class=\"line\">|    0   N/A  N/A      6788    C+G   ...CBS_cw5n1h2txyewy\\TextInputHost.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A      6940    C+G   ...siveControlPanel\\SystemSettings.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A      7876    C+G   C:\\Windows\\explorer.exe                   N/A      |</span><br><span class=\"line\">|    0   N/A  N/A      8816    C+G   ...on\\120.0.2210.91\\msedgewebview2.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A      8988    C+G   ...nt.CBS_cw5n1h2txyewy\\SearchHost.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A      9124    C+G   ...2txyewy\\StartMenuExperienceHost.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A     15560    C+G   ...Programs\\Microsoft VS Code\\Code.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A     16528    C+G   ...ekyb3d8bbwe\\PhoneExperienceHost.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A     17260      C   ...\\anaconda3\\envs\\Chatchat\\python.exe    N/A      |</span><br><span class=\"line\">|    0   N/A  N/A     21584    C+G   ...oogle\\Chrome\\Application\\chrome.exe    N/A      |</span><br><span class=\"line\">+---------------------------------------------------------------------------------------+</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"è½¯ä»¶ç¯å¢ƒå®‰è£…\"><a href=\"#è½¯ä»¶ç¯å¢ƒå®‰è£…\" class=\"headerlink\" title=\"è½¯ä»¶ç¯å¢ƒå®‰è£…\"></a>è½¯ä»¶ç¯å¢ƒå®‰è£…</h2><p>Python ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯å®˜æ–¹ wiki ä¸­å»ºè®®çš„ç‰ˆæœ¬åŒºåˆ«ï¼š 3.11.5</p>\n<h3 id=\"Anaconda-å®‰è£…\"><a href=\"#Anaconda-å®‰è£…\" class=\"headerlink\" title=\"Anaconda å®‰è£…\"></a>Anaconda å®‰è£…</h3><p>Anaconda ç”¨äºç®¡ç† python è™šæ‹Ÿç¯å¢ƒã€‚Conda æ˜¯ä¸€ä¸ªå¼€æºçš„åŒ…ç®¡ç†ç³»ç»Ÿå’Œç¯å¢ƒç®¡ç†ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºæ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ å’Œç§‘å­¦è®¡ç®—ç­‰é¢†åŸŸã€‚å®ƒæ˜¯ Anaconda å‘è¡Œç‰ˆçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥ä½œä¸º Miniconda çš„ä¸€éƒ¨åˆ†å•ç‹¬å®‰è£…ã€‚Condaå¯ä»¥å¸®åŠ©ç”¨æˆ·è½»æ¾åœ°å®‰è£…ã€ç®¡ç†å’Œæ›´æ–°è½¯ä»¶åŒ…ã€åº“å’Œä¾èµ–é¡¹ï¼Œè€Œæ— éœ€æ‹…å¿ƒä¸åŒè½¯ä»¶åŒ…ä¹‹é—´çš„å†²çªã€‚å®ƒè¿˜å…è®¸ç”¨æˆ·åˆ›å»ºã€ç®¡ç†å’Œåˆ‡æ¢ä¸åŒçš„è™šæ‹Ÿç¯å¢ƒï¼Œä½¿å¾—åœ¨åŒä¸€å°æœºå™¨ä¸ŠåŒæ—¶è¿›è¡Œå¤šä¸ªé¡¹ç›®å¼€å‘å˜å¾—æ›´åŠ ä¾¿æ·ã€‚Condaä¹Ÿæä¾›äº†å¯¹Pythonå’ŒéPythonè½¯ä»¶åŒ…çš„æ”¯æŒï¼Œè¿™ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„å·¥å…·ï¼Œä¸ä»…å±€é™äºPythonç”Ÿæ€ç³»ç»Ÿã€‚</p>\n<ul>\n<li><p>ä¸‹è½½åœ°å€ï¼š<a href=\"https://www.anaconda.com/download\">https://www.anaconda.com/download</a></p>\n</li>\n<li><p>ç‰ˆæœ¬  23.11.0</p>\n</li>\n</ul>\n<p>æŒ‰å®‰è£…æŒ‡å¼•é»˜è®¤å®‰è£…å³å¯ï¼Œå®‰è£…å®Œæµ‹è¯•ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~ conda -V</span><br><span class=\"line\">~ conda 23.11.0</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"cuda-å®‰è£…\"><a href=\"#cuda-å®‰è£…\" class=\"headerlink\" title=\"cuda å®‰è£…\"></a>cuda å®‰è£…</h3><p>CUDAï¼ˆCompute Unified Device Architectureï¼‰æ˜¯ç”±NVIDIAå¼€å‘çš„å¹¶è¡Œè®¡ç®—å¹³å°å’Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ã€‚å®ƒå…è®¸å¼€å‘äººå‘˜ä½¿ç”¨C&#x2F;C++ã€Pythonç­‰ç¼–ç¨‹è¯­è¨€æ¥åˆ©ç”¨NVIDIA GPUçš„å¹¶è¡Œè®¡ç®—èƒ½åŠ›ã€‚CUDAä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨GPUä¸Šç¼–å†™é«˜æ€§èƒ½çš„é€šç”¨å¹¶è¡Œç¨‹åºï¼Œç”¨äºåŠ é€Ÿç§‘å­¦è®¡ç®—ã€æ·±åº¦å­¦ä¹ ã€å›¾å½¢æ¸²æŸ“å’Œå…¶ä»–éœ€è¦å¤§é‡å¹¶è¡Œè®¡ç®—çš„é¢†åŸŸã€‚é€šè¿‡CUDAï¼Œå¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨GPUçš„å¤§é‡è®¡ç®—æ ¸å¿ƒå¹¶è¡Œå¤„ç†æ•°æ®ï¼ŒåŠ å¿«è®¡ç®—é€Ÿåº¦ã€‚</p>\n<p>cuda æ‰€æœ‰ç‰ˆæœ¬å½’æ¡£åœ°å€ï¼š<a href=\"https://developer.nvidia.com/cuda-toolkit-archive%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%9C%A8%E8%BF%99%E9%87%8C%E4%B8%8B%E8%BD%BD%E9%9C%80%E8%A6%81%E7%9A%84%E7%89%88%E6%9C%AC%EF%BC%9B%E5%9C%A8%E4%B8%8A%E8%BF%B0\">https://developer.nvidia.com/cuda-toolkit-archiveï¼Œå¯ä»¥åœ¨è¿™é‡Œä¸‹è½½éœ€è¦çš„ç‰ˆæœ¬ï¼›åœ¨ä¸Šè¿°</a> nvidia-smi  æŸ¥çœ‹çš„ GPU ä¿¡æ¯çœ‹åˆ°ï¼Œæˆ‘æœ¬æœºæ”¯æŒçš„ cuda ç‰ˆæœ¬æœ€é«˜æ˜¯ 12.2ã€‚</p>\n<h3 id=\"pytorch-å®‰è£…\"><a href=\"#pytorch-å®‰è£…\" class=\"headerlink\" title=\"pytorch å®‰è£…\"></a>pytorch å®‰è£…</h3><p>PyTorchæ˜¯ä¸€ä¸ªå¼€æºçš„æœºå™¨å­¦ä¹ åº“ï¼Œä¸“æ³¨äºæ·±åº¦å­¦ä¹ ä»»åŠ¡ã€‚å®ƒç”±Facebookçš„äººå·¥æ™ºèƒ½ç ”ç©¶å›¢é˜Ÿå¼€å‘å¹¶ç»´æŠ¤ï¼Œæä¾›äº†ä¸°å¯Œçš„å·¥å…·å’Œæ¥å£ï¼Œç”¨äºæ„å»ºå’Œè®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</p>\n<p>å®‰è£…æ—¶å¯ä»¥åœ¨è¿™é‡Œ <a href=\"https://download.pytorch.org/whl/torch_stable.html\">https://download.pytorch.org/whl/torch_stable.html</a> ä¸‹è½½ã€‚æ ¹æ®éœ€è¦æŒ‰ç…§ä¸åŒæ“ä½œç³»ç»Ÿã€æ˜¯å¦æ˜¯gpu ç¯å¢ƒç­‰æ‰¾å¯¹åº”çš„ç‰ˆæœ¬å³å¯ã€‚</p>\n<ul>\n<li><p>gpu ç‰ˆæœ¬å®‰è£…</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># torch</span><br><span class=\"line\">pip install https://download.pytorch.org/whl/cu121/torch-2.1.2%2Bcu121-cp310-cp310-win_amd64.whl </span><br><span class=\"line\"># torchaudio</span><br><span class=\"line\">pip install https://download.pytorch.org/whl/cu121/torchaudio-2.1.2%2Bcu121-cp310-cp310-win_amd64.whl  </span><br><span class=\"line\"># torchvision</span><br><span class=\"line\">pip install https://download.pytorch.org/whl/cu121/torchvision-0.16.2%2Bcu121-cp310-cp310-win_amd64.whl</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>cpu ç‰ˆæœ¬å®‰è£…ï¼ˆè¿™é‡Œç”¨äº†æ¸…åæºï¼‰</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip install torch torchvision torchaudio --index-url https://download.pytorch.org/wh1/cull8 -i https://pypi.tuna.tsinghua.edu.cn/simple/</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç¯å¢ƒæµ‹è¯•\"><a href=\"#ç¯å¢ƒæµ‹è¯•\" class=\"headerlink\" title=\"ç¯å¢ƒæµ‹è¯•\"></a>ç¯å¢ƒæµ‹è¯•</h2><h3 id=\"åˆ›å»º-python-è¿è¡Œè™šæ‹Ÿç¯å¢ƒ\"><a href=\"#åˆ›å»º-python-è¿è¡Œè™šæ‹Ÿç¯å¢ƒ\" class=\"headerlink\" title=\"åˆ›å»º python è¿è¡Œè™šæ‹Ÿç¯å¢ƒ\"></a>åˆ›å»º python è¿è¡Œè™šæ‹Ÿç¯å¢ƒ</h3><p>æ‰“å¼€ Anaconda Prompt ç»ˆç«¯å‘½ä»¤è¡Œå·¥å…·ï¼Œä½¿ç”¨ conda åˆ›å»º python è¿è¡Œè™šæ‹Ÿç¯å¢ƒ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(base) ~ conda create -n Chatchat python=3.11.5 </span><br><span class=\"line\">(base) ~ done</span><br><span class=\"line\">(base) ~ #</span><br><span class=\"line\">(base) ~ # To activate this environment, use</span><br><span class=\"line\">(base) ~ #</span><br><span class=\"line\">(base) ~ #     $ conda activate Chatchat</span><br><span class=\"line\">(base) ~ #</span><br><span class=\"line\">(base) ~ # To deactivate an active environment, use</span><br><span class=\"line\">(base) ~ #</span><br><span class=\"line\">(base) ~ #     $ conda deactivate</span><br><span class=\"line\">(base) ~ conda activate Chatchat  # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span><br><span class=\"line\">(Chatchat) ~ </span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"æµ‹è¯•-pytorch\"><a href=\"#æµ‹è¯•-pytorch\" class=\"headerlink\" title=\"æµ‹è¯• pytorch\"></a>æµ‹è¯• pytorch</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(Chatchat) ~ python</span><br><span class=\"line\">Python 3.11.5 # çœç•¥ .... </span><br><span class=\"line\">&gt;&gt;&gt; import torch</span><br><span class=\"line\">&gt;&gt;&gt; torch.cuda.is_available()</span><br><span class=\"line\">False</span><br><span class=\"line\">&gt;&gt;&gt; x = torch.rand(5, 3)</span><br><span class=\"line\">&gt;&gt;&gt; print(x)</span><br><span class=\"line\">tensor([[0.8827, 0.8297, 0.5390],</span><br><span class=\"line\">        [0.4590, 0.8473, 0.4074],</span><br><span class=\"line\">        [0.4045, 0.0082, 0.4121],</span><br><span class=\"line\">        [0.7649, 0.3901, 0.1535],</span><br><span class=\"line\">        [0.5408, 0.8168, 0.8615]])</span><br><span class=\"line\">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Langchain-Chatchat-ä¸‹è½½\"><a href=\"#Langchain-Chatchat-ä¸‹è½½\" class=\"headerlink\" title=\"Langchain-Chatchat ä¸‹è½½\"></a>Langchain-Chatchat ä¸‹è½½</h2><p>æœ¬æ–‡æ˜¯åŸºäº <a href=\"https://github.com/chatchat-space/Langchain-Chatchat/wiki/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2#%E5%B8%B8%E8%A7%84%E6%A8%A1%E5%BC%8F%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88\">å¸¸è§„æ¨¡å¼æœ¬åœ°éƒ¨ç½²æ–¹æ¡ˆ</a> è¿›è¡Œéƒ¨ç½²çš„ã€‚ä»£ç æ‹‰å– &amp; å®‰è£…ä¾èµ–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># æ‹‰å–ä»“åº“</span><br><span class=\"line\">$ git clone --recursive https://github.com/chatchat-space/Langchain-Chatchat.git</span><br><span class=\"line\"></span><br><span class=\"line\"># è¿›å…¥ç›®å½•</span><br><span class=\"line\">$ cd Langchain-Chatchat</span><br><span class=\"line\"></span><br><span class=\"line\"># å®‰è£…å…¨éƒ¨ä¾èµ–</span><br><span class=\"line\">$ pip install -r requirements.txt</span><br><span class=\"line\"></span><br><span class=\"line\"># é»˜è®¤ä¾èµ–åŒ…æ‹¬åŸºæœ¬è¿è¡Œç¯å¢ƒï¼ˆFAISSå‘é‡åº“ï¼‰ã€‚ä»¥ä¸‹æ˜¯å¯é€‰ä¾èµ–ï¼š</span><br><span class=\"line\">- å¦‚æœè¦ä½¿ç”¨ milvus/pg_vector ç­‰å‘é‡åº“ï¼Œè¯·å°† requirements.txt ä¸­ç›¸åº”ä¾èµ–å–æ¶ˆæ³¨é‡Šå†å®‰è£…ã€‚</span><br><span class=\"line\">- å¦‚æœè¦å¼€å¯ OCR GPU åŠ é€Ÿï¼Œè¯·å®‰è£… rapidocr_paddle[gpu]</span><br><span class=\"line\">- å¦‚æœè¦ä½¿ç”¨åœ¨çº¿ API æ¨¡å‹ï¼Œè¯·å®‰è£…å¯¹ç”¨çš„ SDK</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æ‰§è¡Œå®‰è£…ä¾èµ–æ—¶é‡åˆ° <a href=\"https://github.com/chatchat-space/Langchain-Chatchat/issues/2533\">https://github.com/chatchat-space/Langchain-Chatchat/issues/2533</a> è¿™ä¸ªé—®é¢˜ï¼Œé‡‡ç”¨ issue ä¸­æçš„æ–¹å¼ï¼Œä½¿ç”¨ conda è¿›è¡Œå®‰è£…çš„ã€‚è¿™é‡Œå¯ä»¥å…ˆå°† requirements.txt ä¸­çš„ jq ä¾èµ–å…ˆæ³¨é‡Šè°ƒ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># rapidocr_paddle[gpu]&gt;=1.3.0.post5 # gpu accelleration for ocr of pdf and image files</span><br><span class=\"line\"># jq&gt;=1.6.0 # for .json and .jsonl files. suggest `conda install jq` on windows</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åå†æ‰§è¡Œ <code>pip install -r requirements.txt</code>ï¼Œç„¶åå†ä½¿ç”¨ <code>conda install jq</code> å®‰è£… jqã€‚</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Ps: ç¬”è€…ä¹‹å‰æ²¡æœ‰åšè¿‡ python å¼€å‘ï¼Œæœ€å¤§ä½“éªŒæ˜¯ï¼Œä¸€ç›´åœ¨è£…å„ç§åŒ…â€¦.</p></blockquote>\n<p>æ­¤å¤–ï¼Œä¸ºæ–¹ä¾¿ç”¨æˆ· API ä¸ webui åˆ†ç¦»è¿è¡Œï¼Œå¯å•ç‹¬æ ¹æ®è¿è¡Œéœ€æ±‚å®‰è£…ä¾èµ–åŒ…ã€‚</p>\n<ul>\n<li><p>å¦‚æœåªéœ€è¿è¡Œ APIï¼Œå¯æ‰§è¡Œï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pip install -r requirements_api.txt</span><br><span class=\"line\"># é»˜è®¤ä¾èµ–åŒ…æ‹¬åŸºæœ¬è¿è¡Œç¯å¢ƒï¼ˆFAISSå‘é‡åº“ï¼‰ã€‚å¦‚æœè¦ä½¿ç”¨ milvus/pg_vector ç­‰å‘é‡åº“ï¼Œè¯·å°† requirements.txt ä¸­ç›¸åº”ä¾èµ–å–æ¶ˆæ³¨é‡Šå†å®‰è£…ã€‚</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å¦‚æœåªéœ€è¿è¡Œ WebUIï¼Œå¯æ‰§è¡Œï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ pip install -r requirements_webui.txt</span><br></pre></td></tr></table></figure></li>\n</ul>\n<p>å…¶ä»–å»ºè®®ç›´æ¥å‚è€ƒå®˜æ–¹ wiki å³å¯ï¼Œå¦‚æœæœ‰é—®é¢˜å…ˆæŸ¥å®˜æ–¹ <a href=\"https://github.com/chatchat-space/Langchain-Chatchat/issues\">issue</a>ã€‚</p>\n<h2 id=\"æ¨¡å‹ä¸‹è½½\"><a href=\"#æ¨¡å‹ä¸‹è½½\" class=\"headerlink\" title=\"æ¨¡å‹ä¸‹è½½\"></a>æ¨¡å‹ä¸‹è½½</h2><p>å®‰è£…å®˜æ–¹æ‰‹å†Œï¼Œä¸‹è½½ä¸¤ä¸ªæ¨¡å‹ï¼šm3e-base å†…ç½®æ¨¡å‹å’Œ chatglm2-6b-int4 æ¨¡å‹ã€‚é¢ï¼Œå®é™…ä¸Š  <code>https://huggingface.co/moka-ai/m3e-base</code> å’Œ <code>https://huggingface.co/THUDM/chatglm2-6b</code> é€šè¿‡ git ç›´æ¥ æ‹‰æ˜¯æ‹‰ä¸ä¸‹æ¥çš„ï¼Œæœ€åæ˜¯åœ¨ <a href=\"https://huggingface.co/moka-ai/m3e-base/tree/main\">files and versions</a> ä¸‹æ‰‹åŠ¨ä¸‹è½½çš„ã€‚chatglm2-6b ä¹Ÿæ˜¯ä¸€æ ·ã€‚å³ä½¿ä¸‹è½½äº† lfs ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œå¯èƒ½æ‰“å¼€æ–¹å¼ä¸å¯¹ï¼Ÿ</p>\n<h2 id=\"é…ç½®ä¿®æ”¹å’Œæ–‡ä»¶ä¿®æ”¹\"><a href=\"#é…ç½®ä¿®æ”¹å’Œæ–‡ä»¶ä¿®æ”¹\" class=\"headerlink\" title=\"é…ç½®ä¿®æ”¹å’Œæ–‡ä»¶ä¿®æ”¹\"></a>é…ç½®ä¿®æ”¹å’Œæ–‡ä»¶ä¿®æ”¹</h2><h3 id=\"æ‰¹é‡ä¿®æ”¹é…ç½®æ–‡ä»¶å\"><a href=\"#æ‰¹é‡ä¿®æ”¹é…ç½®æ–‡ä»¶å\" class=\"headerlink\" title=\"æ‰¹é‡ä¿®æ”¹é…ç½®æ–‡ä»¶å\"></a>æ‰¹é‡ä¿®æ”¹é…ç½®æ–‡ä»¶å</h3><p>é’ˆå¯¹ Langchain-Chatchatï¼Œæ‰¹é‡å¤åˆ¶ configs ç›®å½•ä¸‹æ‰€æœ‰çš„é…ç½®æ–‡ä»¶ï¼Œå»æ‰ example åç¼€ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python copy_config_example.py</span><br></pre></td></tr></table></figure>\n\n<p>æˆªå›¾å¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/llm/image-20240105165310483.png\" alt=\"image-20240105165310483\"></p>\n<h3 id=\"ä¿®æ”¹-model-config-py-æ–‡ä»¶\"><a href=\"#ä¿®æ”¹-model-config-py-æ–‡ä»¶\" class=\"headerlink\" title=\"ä¿®æ”¹ model_config.py æ–‡ä»¶\"></a>ä¿®æ”¹ model_config.py æ–‡ä»¶</h3><ul>\n<li><p>ä¿®æ”¹ m3e-base çš„æ¨¡å‹æœ¬åœ°è·¯å¾„</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># &quot;m3e-base&quot;: &quot;moka-ai/m3e-base&quot;,</span><br><span class=\"line\"># ä¿®æ”¹ä¸ºæœ¬åœ°çš„ è·¯å¾„</span><br><span class=\"line\">&quot;m3e-base&quot;: &quot;D:\\\\llm\\\\m3e-base&quot;,</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä¿®æ”¹ chatglm2-6b-int4 æ¨¡å‹æœ¬åœ°è·¯å¾„</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;llm_model&quot;: &#123;</span><br><span class=\"line\">        # ä»¥ä¸‹éƒ¨åˆ†æ¨¡å‹å¹¶æœªå®Œå…¨æµ‹è¯•ï¼Œä»…æ ¹æ® fastchatå’Œvllmæ¨¡å‹çš„æ¨¡å‹åˆ—è¡¨æ¨å®šæ”¯æŒ</span><br><span class=\"line\">        &quot;chatglm-6b&quot;: &quot;THUDM/chatglm-6b&quot;,</span><br><span class=\"line\">        &quot;chatglm2-6b&quot;: &quot;THUDM/chatglm2-6b&quot;,</span><br><span class=\"line\">        # &quot;chatglm2-6b-int4&quot;: &quot;THUDM/chatglm2-6b-int4&quot;,</span><br><span class=\"line\">        &quot;chatglm2-6b-int4&quot;: &quot;D:\\\\llm\\\\chatglm2-6b&quot;, </span><br><span class=\"line\">        &quot;chatglm2-6b-32k&quot;: &quot;THUDM/chatglm2-6b-32k&quot;,</span><br><span class=\"line\">        # ...</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä¿®æ”¹LLMæ¨¡å‹ä¸ºchatglm2-6b-int4</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># LLM åç§° ,ä¿®æ”¹ä¸º chatglm2-6b</span><br><span class=\"line\">LLM_MODEL = &quot;chatglm2-6b</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä¿®æ”¹ LLM_DEVICE è¿è¡Œè®¾å¤‡ï¼Œçœ‹ä½¿ç”¨cpuã€cudaï¼ˆå¸¦GPUï¼‰æˆ–mps( macæœ¬ï¼‰</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># é€‰ç”¨çš„ Embedding åç§°</span><br><span class=\"line\">EMBEDDING_MODEL = &quot;m3e-base&quot; # å¯ä»¥å°è¯•æœ€æ–°çš„åµŒå…¥å¼sotaæ¨¡å‹ï¼šbge-large-zh-v1.5</span><br><span class=\"line\"># Embedding æ¨¡å‹è¿è¡Œè®¾å¤‡ã€‚è®¾ä¸º&quot;auto&quot;ä¼šè‡ªåŠ¨æ£€æµ‹ï¼Œä¹Ÿå¯æ‰‹åŠ¨è®¾å®šä¸º&quot;cuda&quot;,&quot;mps&quot;,&quot;cpu&quot;å…¶ä¸­ä¹‹ä¸€ã€‚</span><br><span class=\"line\">EMBEDDING_DEVICE = &quot;auto&quot;</span><br><span class=\"line\"># LLM åç§°</span><br><span class=\"line\">LLM_MODEL = &quot;chatglm2-6b&quot;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"ä¿®æ”¹-server-config-py\"><a href=\"#ä¿®æ”¹-server-config-py\" class=\"headerlink\" title=\"ä¿®æ”¹ server_config.py\"></a>ä¿®æ”¹ server_config.py</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># å„æœåŠ¡å™¨é»˜è®¤ç»‘å®š hostã€‚å¦‚æ”¹ä¸º&quot;0.0.0.0&quot;éœ€è¦ä¿®æ”¹ä¸‹æ–¹æ‰€æœ‰XX_SERVERçš„host</span><br><span class=\"line\">DEFAULT_BIND_HOST = â€œ127.0.0.1&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"éƒ¨ç½²\"><a href=\"#éƒ¨ç½²\" class=\"headerlink\" title=\"éƒ¨ç½²\"></a>éƒ¨ç½²</h2><h3 id=\"çŸ¥è¯†åº“åˆå§‹åŒ–\"><a href=\"#çŸ¥è¯†åº“åˆå§‹åŒ–\" class=\"headerlink\" title=\"çŸ¥è¯†åº“åˆå§‹åŒ–\"></a>çŸ¥è¯†åº“åˆå§‹åŒ–</h3><ul>\n<li><p>åˆ›å»ºè¿‡çŸ¥è¯†åº“ï¼Œå¯ä»¥å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæˆ–æ›´æ–°æ•°æ®åº“è¡¨ï¼Œå¦‚æœå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œåˆ™æ— éœ€å†é‡å»ºçŸ¥è¯†åº“ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python init_database.py --create-tables</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œæœ¬é¡¹ç›®ï¼ŒçŸ¥è¯†åº“å°šæœªå»ºç«‹ï¼Œæˆ–è€…ä¹‹å‰ä½¿ç”¨çš„æ˜¯ä½äºæœ€æ–°masteråˆ†æ”¯ç‰ˆæœ¬çš„æ¡†æ¶ï¼Œæˆ–è€…é…ç½®æ–‡ä»¶ä¸­çš„çŸ¥è¯†åº“ç±»å‹ã€åµŒå…¥æ¨¡å‹å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…ä¹‹å‰çš„å‘é‡åº“æ²¡æœ‰å¼€å¯ <code>normalize_L2</code>ï¼Œéœ€è¦ä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–æˆ–é‡å»ºçŸ¥è¯†åº“ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python init_database.py --recreate-vs</span><br></pre></td></tr></table></figure></li>\n</ul>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>è¿™é‡Œå› ä¸ºå‰é¢å®‰è£…ä¾èµ–æ—¶ä¸€ç›´å‡ºç° jq æŠ¥é”™é—®é¢˜ï¼Œå¯¼è‡´å¾ˆå¤šä¾èµ–æ²¡æœ‰å®‰è£…æˆåŠŸï¼Œåœ¨æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–æ—¶æŠ¥äº†ä¸€å †ä¾èµ–æ‰¾ä¸åˆ°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸ª install çš„ï¼ŒğŸ˜­â€¦.</p></blockquote>\n<h3 id=\"å¯åŠ¨é¡¹ç›®\"><a href=\"#å¯åŠ¨é¡¹ç›®\" class=\"headerlink\" title=\"å¯åŠ¨é¡¹ç›®\"></a>å¯åŠ¨é¡¹ç›®</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python startup.py -a</span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡Œæ—¥å¿—å¤§è‡´å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">==============================Langchain-Chatchat Configuration==============================</span><br><span class=\"line\">æ“ä½œç³»ç»Ÿï¼šWindows-10-10.0.22000-SP0.</span><br><span class=\"line\">pythonç‰ˆæœ¬ï¼š3.10.11 | packaged by Anaconda, Inc. | (main, May 16 2023, 00:55:32) [MSC v.1916 64 bit (AMD64)]</span><br><span class=\"line\">é¡¹ç›®ç‰ˆæœ¬ï¼šv0.2.9</span><br><span class=\"line\">langchainç‰ˆæœ¬ï¼š0.0.353. fastchatç‰ˆæœ¬ï¼š0.2.34</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">å½“å‰ä½¿ç”¨çš„åˆ†è¯å™¨ï¼šChineseRecursiveTextSplitter</span><br><span class=\"line\">å½“å‰å¯åŠ¨çš„LLMæ¨¡å‹ï¼š[&#x27;chatglm2-6b&#x27;] @ cuda</span><br><span class=\"line\">&#123;&#x27;device&#x27;: &#x27;cuda&#x27;,</span><br><span class=\"line\"> &#x27;host&#x27;: &#x27;127.0.0.1&#x27;,</span><br><span class=\"line\"> &#x27;infer_turbo&#x27;: False,</span><br><span class=\"line\"> &#x27;model_path&#x27;: &#x27;D:\\\\llm\\\\chatglm3-6b&#x27;,</span><br><span class=\"line\"> &#x27;model_path_exists&#x27;: True,</span><br><span class=\"line\"> &#x27;port&#x27;: 20002&#125;</span><br><span class=\"line\">å½“å‰Embbedingsæ¨¡å‹ï¼š m3e-base @ cuda</span><br><span class=\"line\">==============================Langchain-Chatchat Configuration==============================</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">2024-01-05 14:17:15,651 - startup.py[line:651] - INFO: æ­£åœ¨å¯åŠ¨æœåŠ¡ï¼š</span><br><span class=\"line\">2024-01-05 14:17:15,651 - startup.py[line:652] - INFO: å¦‚éœ€æŸ¥çœ‹ llm_api æ—¥å¿—ï¼Œè¯·å‰å¾€ D:\\llm\\Langchain-Chatchat\\logs</span><br><span class=\"line\">2024-01-05 14:17:20 | ERROR | stderr | INFO:     Started server process [16928]</span><br><span class=\"line\">2024-01-05 14:17:20 | ERROR | stderr | INFO:     Waiting for application startup.</span><br><span class=\"line\">2024-01-05 14:17:20 | ERROR | stderr | INFO:     Application startup complete.</span><br><span class=\"line\">2024-01-05 14:17:20 | ERROR | stderr | INFO:     Uvicorn running on http://127.0.0.1:20000 (Press CTRL+C to quit)</span><br><span class=\"line\">2024-01-05 14:17:21 | INFO | model_worker | Loading the model [&#x27;chatglm2-6b&#x27;] on worker 2ed3839d ...</span><br><span class=\"line\">Loading checkpoint shards:   0%|                                                                                                                                           | 0/7 [00:00&lt;?, ?it/s]</span><br><span class=\"line\">Loading checkpoint shards:  14%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹                                                                                                                | 1/7 [01:05&lt;06:31, 65.24s/it]</span><br><span class=\"line\">Loading checkpoint shards:  29%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                                             | 2/7 [01:41&lt;04:00, 48.07s/it]</span><br><span class=\"line\">Loading checkpoint shards:  43%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                                                                          | 3/7 [01:41&lt;01:45, 26.36s/it]</span><br><span class=\"line\">Loading checkpoint shards:  57%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š                                                        | 4/7 [01:42&lt;00:48, 16.14s/it]</span><br><span class=\"line\">Loading checkpoint shards:  71%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ                                     | 5/7 [01:42&lt;00:21, 10.51s/it]</span><br><span class=\"line\">Loading checkpoint shards:  86%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–                  | 6/7 [02:13&lt;00:17, 17.35s/it]</span><br><span class=\"line\">Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [02:50&lt;00:00, 23.71s/it]</span><br><span class=\"line\">Loading checkpoint shards: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 7/7 [02:50&lt;00:00, 24.32s/it]</span><br><span class=\"line\">2024-01-05 14:20:11 | ERROR | stderr |</span><br><span class=\"line\">2024-01-05 14:20:16 | INFO | model_worker | Register to controller</span><br><span class=\"line\">INFO:     Started server process [7956]</span><br><span class=\"line\">INFO:     Waiting for application startup.</span><br><span class=\"line\">INFO:     Application startup complete.</span><br><span class=\"line\">INFO:     Uvicorn running on http://127.0.0.1:7861 (Press CTRL+C to quit)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">==============================Langchain-Chatchat Configuration==============================</span><br><span class=\"line\">æ“ä½œç³»ç»Ÿï¼šWindows-10-10.0.22000-SP0.</span><br><span class=\"line\">pythonç‰ˆæœ¬ï¼š3.10.11 | packaged by Anaconda, Inc. | (main, May 16 2023, 00:55:32) [MSC v.1916 64 bit (AMD64)]</span><br><span class=\"line\">é¡¹ç›®ç‰ˆæœ¬ï¼šv0.2.9</span><br><span class=\"line\">langchainç‰ˆæœ¬ï¼š0.0.353. fastchatç‰ˆæœ¬ï¼š0.2.34</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">å½“å‰ä½¿ç”¨çš„åˆ†è¯å™¨ï¼šChineseRecursiveTextSplitter</span><br><span class=\"line\">å½“å‰å¯åŠ¨çš„LLMæ¨¡å‹ï¼š[&#x27;chatglm2-6b&#x27;] @ cuda</span><br><span class=\"line\">&#123;&#x27;device&#x27;: &#x27;cuda&#x27;,</span><br><span class=\"line\"> &#x27;host&#x27;: &#x27;127.0.0.1&#x27;,</span><br><span class=\"line\"> &#x27;infer_turbo&#x27;: False,</span><br><span class=\"line\"> &#x27;model_path&#x27;: &#x27;D:\\\\llm\\\\chatglm3-6b&#x27;,</span><br><span class=\"line\"> &#x27;model_path_exists&#x27;: True,</span><br><span class=\"line\"> &#x27;port&#x27;: 20002&#125;</span><br><span class=\"line\">å½“å‰Embbedingsæ¨¡å‹ï¼š m3e-base @ cuda</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">æœåŠ¡ç«¯è¿è¡Œä¿¡æ¯ï¼š</span><br><span class=\"line\">    OpenAI API Server: http://127.0.0.1:20000/v1</span><br><span class=\"line\">    Chatchat  API  Server: http://127.0.0.1:7861</span><br><span class=\"line\">    Chatchat WEBUI Server: http://127.0.0.1:8501</span><br><span class=\"line\">==============================Langchain-Chatchat Configuration==============================</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">      Welcome to Streamlit!</span><br><span class=\"line\"></span><br><span class=\"line\">      If youâ€™d like to receive helpful onboarding emails, news, offers, promotions,</span><br><span class=\"line\">      and the occasional swag, please enter your email address below. Otherwise,</span><br><span class=\"line\">      leave this field blank.</span><br><span class=\"line\"></span><br><span class=\"line\">      Email:  2024-01-05 14:24:24 | INFO | stdout | INFO:     127.0.0.1:63380 - &quot;GET /v1 HTTP/1.1&quot; 404 Not Found</span><br><span class=\"line\">INFO:     127.0.0.1:63456 - &quot;GET / HTTP/1.1&quot; 307 Temporary Redirect</span><br><span class=\"line\">INFO:     127.0.0.1:63456 - &quot;GET /docs HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63456 - &quot;GET /swagger-ui.css HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63457 - &quot;GET /swagger-ui-bundle.js HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63457 - &quot;GET /openapi.json HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63456 - &quot;GET /favicon.png HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63645 - &quot;GET /docs HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63645 - &quot;GET /swagger-ui.css HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63646 - &quot;GET /swagger-ui-bundle.js HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63646 - &quot;GET /openapi.json HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63646 - &quot;GET /favicon.png HTTP/1.1&quot; 200 OK</span><br><span class=\"line\">INFO:     127.0.0.1:63744 - &quot;POST /chat/chat HTTP/1.1&quot; 200 OK</span><br></pre></td></tr></table></figure>\n\n\n\n<p>è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p>\n<p><img src=\"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/llm/image-20240105165336385.png\" alt=\"image-20240105165336385\"></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><p>ä½œä¸ºä¸€ä¸ªè¿é—¨éƒ½æ²¡å…¥çš„ java å·¥ç¨‹å¸ˆï¼Œå‰åèŠ±äº†å·®ä¸å¤š 1 å¤©å¤šæ—¶é—´ï¼›ä¸»è¦å‘å°±æ˜¯ <code>Could not build wheels for jq, which is required to install pyproject.toml-based projects</code> è¿™ä¸ªæŠ¥é”™è®©æˆ‘çº ç»“äº†å¾ˆä¹…ï¼›å®˜æ–¹ issue å…³äºè¿™ä¸ªé—®é¢˜ä¹Ÿæœ‰ä¸å°‘ç¤¾åŒºåé¦ˆï¼š<a href=\"https://github.com/chatchat-space/Langchain-Chatchat/issues?q=jq%E3%80%82%E5%8F%A6%E5%A4%96%E8%BF%98%E6%98%AF%E5%AF%B9%E4%BA%8E%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E4%B8%AD%E7%BB%99%E7%9A%84\">https://github.com/chatchat-space/Langchain-Chatchat/issues?q=jqã€‚å¦å¤–è¿˜æ˜¯å¯¹äºå®˜æ–¹æ–‡æ¡£ä¸­ç»™çš„</a> wiki çœ‹çš„å¤ªç²—ï¼Œä¹Ÿå¯¼è‡´åœ¨æŸäº›ç‚¹ä¸Šæµªè´¹äº†ä¸€äº›æ—¶é—´ã€‚</p>\n<p>é€šè¿‡æ­¤æ¬¡éƒ¨ç½²ï¼Œé¦–å…ˆæ˜¯å¯¹äºå¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²çš„æµç¨‹æœ‰äº†ä¸€äº›åŸºæœ¬å°è±¡å’Œæ€è·¯ï¼›å¯¹äºå¦‚ condaã€cudaã€pytorch ç­‰ç›¸å…³æ¡†æ¶åŠå·¥å…·æœ‰ä¸€äº›åˆæ­¥è®¤è¯†ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›æ”¶è·çš„ã€‚</p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://blog.csdn.net/xqdd/article/details/134247532\">https://blog.csdn.net/xqdd/article/details/134247532</a></li>\n<li><a href=\"https://github.com/chatchat-space/Langchain-Chatchat/wiki/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2#%E5%B8%B8%E8%A7%84%E6%A8%A1%E5%BC%8F%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88\">https://github.com/chatchat-space/Langchain-Chatchat/wiki/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2#%E5%B8%B8%E8%A7%84%E6%A8%A1%E5%BC%8F%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E6%96%B9%E6%A1%88</a></li>\n</ul>\n","text":"åŸºäº ChatGLM ç­‰å¤§è¯­è¨€æ¨¡å‹ä¸ Langchain ç­‰åº”ç”¨æ¡†æ¶å®ç°ï¼Œå¼€æºã€å¯ç¦»çº¿éƒ¨ç½²çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ(RAG)å¤§æ¨¡å‹çŸ¥è¯†åº“é¡¹ç›®ã€‚ æœ¬åœ°ç¯å¢ƒ å“ç‰Œï¼šæˆ´å°” op...","permalink":"/post/llm/langchain-chatchat-deploy","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9C%AC%E5%9C%B0%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">æœ¬åœ°ç¯å¢ƒ</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BD%AF%E4%BB%B6%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">è½¯ä»¶ç¯å¢ƒå®‰è£…</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Anaconda-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">Anaconda å®‰è£…</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#cuda-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">cuda å®‰è£…</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#pytorch-%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">pytorch å®‰è£…</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%8E%AF%E5%A2%83%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">ç¯å¢ƒæµ‹è¯•</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA-python-%E8%BF%90%E8%A1%8C%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83\"><span class=\"toc-text\">åˆ›å»º python è¿è¡Œè™šæ‹Ÿç¯å¢ƒ</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95-pytorch\"><span class=\"toc-text\">æµ‹è¯• pytorch</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Langchain-Chatchat-%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">Langchain-Chatchat ä¸‹è½½</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A8%A1%E5%9E%8B%E4%B8%8B%E8%BD%BD\"><span class=\"toc-text\">æ¨¡å‹ä¸‹è½½</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE%E4%BF%AE%E6%94%B9%E5%92%8C%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9\"><span class=\"toc-text\">é…ç½®ä¿®æ”¹å’Œæ–‡ä»¶ä¿®æ”¹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%90%8D\"><span class=\"toc-text\">æ‰¹é‡ä¿®æ”¹é…ç½®æ–‡ä»¶å</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9-model-config-py-%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">ä¿®æ”¹ model_config.py æ–‡ä»¶</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9-server-config-py\"><span class=\"toc-text\">ä¿®æ”¹ server_config.py</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%83%A8%E7%BD%B2\"><span class=\"toc-text\">éƒ¨ç½²</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%9F%A5%E8%AF%86%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96\"><span class=\"toc-text\">çŸ¥è¯†åº“åˆå§‹åŒ–</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE\"><span class=\"toc-text\">å¯åŠ¨é¡¹ç›®</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">æ€»ç»“</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83\"><span class=\"toc-text\">å‚è€ƒ</span></a></li></ol>","author":{"name":"glmapper","slug":"blog-author","avatar":"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/common/favicon.ico","link":"/","description":"å¼€æ”¾ï¼Œå¼€æºï¼Œåˆ†äº«ï¼Œå…±äº«","socials":{"github":"https://github.com/glmapper","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/2412872703","zhihu":"","csdn":"","juejin":"https://juejin.cn/user/3227821827961806","customs":{"sofastack":{"icon":"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/common/sofastack.svg","link":"https://www.sofastack.tech/"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"æµ…è°ˆ JAVA ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶","uid":"75a9f38981cbb37e9f3b4b30830b22d2","slug":"jvm/jvm-gc-total-summary","date":"2024-07-01T02:59:14.000Z","updated":"2024-07-05T04:09:05.769Z","comments":true,"path":"api/articles/jvm/jvm-gc-total-summary.json","keywords":null,"cover":[],"text":"åœ¨ç°ä»£ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGarbage Collectionï¼‰æ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ï¼Œå°¤å…¶åœ¨ Java è¯­è¨€ä¸­æ›´æ˜¯å¦‚æ­¤ã€‚Java ä½œä¸ºä¸€é—¨å¹¿æ³›åº”ç”¨äºä¼ä¸šçº§...","permalink":"/post/jvm/jvm-gc-total-summary","photos":[],"count_time":{"symbolsCount":"7.7k","symbolsTime":"7 mins."},"categories":[{"name":"jvm","slug":"jvm","count":6,"path":"api/categories/jvm.json"}],"tags":[{"name":"gc","slug":"gc","count":3,"path":"api/tags/gc.json"},{"name":"jvm","slug":"jvm","count":6,"path":"api/tags/jvm.json"}],"author":{"name":"glmapper","slug":"blog-author","avatar":"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/common/favicon.ico","link":"/","description":"å¼€æ”¾ï¼Œå¼€æºï¼Œåˆ†äº«ï¼Œå…±äº«","socials":{"github":"https://github.com/glmapper","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/2412872703","zhihu":"","csdn":"","juejin":"https://juejin.cn/user/3227821827961806","customs":{"sofastack":{"icon":"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/common/sofastack.svg","link":"https://www.sofastack.tech/"}}}},"feature":true},"next_post":{"title":"èŠä¸€èŠ Spring Data JPA ä¸­çš„é‚£äº›æ—¥å¸¸å®è·µ","uid":"b4c75674b257351f24efe8fa873c5818","slug":"springboot/spring-boot-data-jpa-practice","date":"2023-11-27T14:58:52.000Z","updated":"2024-07-05T04:09:05.827Z","comments":true,"path":"api/articles/springboot/spring-boot-data-jpa-practice.json","keywords":null,"cover":[],"text":"ä¸€ç›´ä»¥æ¥ï¼Œå›¢é˜Ÿåœ¨ä½¿ç”¨ ORM æ¡†æ¶ä¸Šéƒ½æ˜¯æ¯”è¾ƒéšæ„çš„ï¼Œä¸€å¼€å§‹æ˜¯é¼“åŠ±å¤§å®¶ä½¿ç”¨ mybatisï¼Œä¸»è¦æ˜¯æœŸæœ›å›¢é˜ŸåŒå­¦å¯ä»¥è‡ªå·±å†™å†™ SQLï¼Œä¸è‡³äºå†™ SQL æ‰‹ç”Ÿï¼›ä½†æ˜¯ä»...","permalink":"/post/springboot/spring-boot-data-jpa-practice","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"SpringBoot","slug":"SpringBoot","count":17,"path":"api/categories/SpringBoot.json"}],"tags":[{"name":"SpringBoot","slug":"SpringBoot","count":17,"path":"api/tags/SpringBoot.json"},{"name":"JPA","slug":"JPA","count":1,"path":"api/tags/JPA.json"}],"author":{"name":"glmapper","slug":"blog-author","avatar":"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/common/favicon.ico","link":"/","description":"å¼€æ”¾ï¼Œå¼€æºï¼Œåˆ†äº«ï¼Œå…±äº«","socials":{"github":"https://github.com/glmapper","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/2412872703","zhihu":"","csdn":"","juejin":"https://juejin.cn/user/3227821827961806","customs":{"sofastack":{"icon":"https://glmapper-blog.oss-cn-hangzhou.aliyuncs.com/common/sofastack.svg","link":"https://www.sofastack.tech/"}}}}}}